{"ast":null,"code":"/**\n * @license\n *\n * chroma.js - JavaScript library for color conversions\n * \n * Copyright (c) 2011-2017, Gregor Aisch\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n * \n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * \n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n * \n * 3. The name Gregor Aisch may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\n\n(function () {\n  var Color,\n    DEG2RAD,\n    LAB_CONSTANTS,\n    PI,\n    PITHIRD,\n    RAD2DEG,\n    TWOPI,\n    _average_lrgb,\n    _guess_formats,\n    _guess_formats_sorted,\n    _input,\n    _interpolators,\n    abs,\n    atan2,\n    bezier,\n    blend,\n    blend_f,\n    brewer,\n    burn,\n    chroma,\n    clip_rgb,\n    cmyk2rgb,\n    colors,\n    cos,\n    css2rgb,\n    darken,\n    dodge,\n    each,\n    floor,\n    hcg2rgb,\n    hex2rgb,\n    hsi2rgb,\n    hsl2css,\n    hsl2rgb,\n    hsv2rgb,\n    interpolate,\n    interpolate_hsx,\n    interpolate_lab,\n    interpolate_lrgb,\n    interpolate_num,\n    interpolate_rgb,\n    lab2lch,\n    lab2rgb,\n    lab_xyz,\n    lch2lab,\n    lch2rgb,\n    lighten,\n    limit,\n    log,\n    luminance_x,\n    m,\n    max,\n    multiply,\n    normal,\n    num2rgb,\n    overlay,\n    pow,\n    rgb2cmyk,\n    rgb2css,\n    rgb2hcg,\n    rgb2hex,\n    rgb2hsi,\n    rgb2hsl,\n    rgb2hsv,\n    rgb2lab,\n    rgb2lch,\n    rgb2luminance,\n    rgb2num,\n    rgb2temperature,\n    rgb2xyz,\n    rgb_xyz,\n    rnd,\n    root,\n    round,\n    screen,\n    sin,\n    sqrt,\n    temperature2rgb,\n    type,\n    unpack,\n    w3cx11,\n    xyz_lab,\n    xyz_rgb,\n    slice = [].slice;\n  type = function () {\n    /*\n    for browser-safe type checking+\n    ported from jQuery's $.type\n     */\n    var classToType, len, name, o, ref;\n    classToType = {};\n    ref = \"Boolean Number String Function Array Date RegExp Undefined Null\".split(\" \");\n    for (o = 0, len = ref.length; o < len; o++) {\n      name = ref[o];\n      classToType[\"[object \" + name + \"]\"] = name.toLowerCase();\n    }\n    return function (obj) {\n      var strType;\n      strType = Object.prototype.toString.call(obj);\n      return classToType[strType] || \"object\";\n    };\n  }();\n  limit = function (x, min, max) {\n    if (min == null) {\n      min = 0;\n    }\n    if (max == null) {\n      max = 1;\n    }\n    if (x < min) {\n      x = min;\n    }\n    if (x > max) {\n      x = max;\n    }\n    return x;\n  };\n  unpack = function (args) {\n    if (args.length >= 3) {\n      return Array.prototype.slice.call(args);\n    } else {\n      return args[0];\n    }\n  };\n  clip_rgb = function (rgb) {\n    var i, o;\n    rgb._clipped = false;\n    rgb._unclipped = rgb.slice(0);\n    for (i = o = 0; o < 3; i = ++o) {\n      if (i < 3) {\n        if (rgb[i] < 0 || rgb[i] > 255) {\n          rgb._clipped = true;\n        }\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 255) {\n          rgb[i] = 255;\n        }\n      } else if (i === 3) {\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 1) {\n          rgb[i] = 1;\n        }\n      }\n    }\n    if (!rgb._clipped) {\n      delete rgb._unclipped;\n    }\n    return rgb;\n  };\n  PI = Math.PI, round = Math.round, cos = Math.cos, floor = Math.floor, pow = Math.pow, log = Math.log, sin = Math.sin, sqrt = Math.sqrt, atan2 = Math.atan2, max = Math.max, abs = Math.abs;\n  TWOPI = PI * 2;\n  PITHIRD = PI / 3;\n  DEG2RAD = PI / 180;\n  RAD2DEG = 180 / PI;\n  chroma = function () {\n    if (arguments[0] instanceof Color) {\n      return arguments[0];\n    }\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, arguments, function () {});\n  };\n  chroma[\"default\"] = chroma;\n  _interpolators = [];\n  if (typeof module !== \"undefined\" && module !== null && module.exports != null) {\n    module.exports = chroma;\n  }\n  if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      return chroma;\n    });\n  } else {\n    root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\n    root.chroma = chroma;\n  }\n  chroma.version = '1.4.1';\n  _input = {};\n  _guess_formats = [];\n  _guess_formats_sorted = false;\n  Color = function () {\n    function Color() {\n      var arg, args, chk, len, len1, me, mode, o, w;\n      me = this;\n      args = [];\n      for (o = 0, len = arguments.length; o < len; o++) {\n        arg = arguments[o];\n        if (arg != null) {\n          args.push(arg);\n        }\n      }\n      if (args.length > 1) {\n        mode = args[args.length - 1];\n      }\n      if (_input[mode] != null) {\n        me._rgb = clip_rgb(_input[mode](unpack(args.slice(0, -1))));\n      } else {\n        if (!_guess_formats_sorted) {\n          _guess_formats = _guess_formats.sort(function (a, b) {\n            return b.p - a.p;\n          });\n          _guess_formats_sorted = true;\n        }\n        for (w = 0, len1 = _guess_formats.length; w < len1; w++) {\n          chk = _guess_formats[w];\n          mode = chk.test.apply(chk, args);\n          if (mode) {\n            break;\n          }\n        }\n        if (mode) {\n          me._rgb = clip_rgb(_input[mode].apply(_input, args));\n        }\n      }\n      if (me._rgb == null) {\n        console.warn('unknown format: ' + args);\n      }\n      if (me._rgb == null) {\n        me._rgb = [0, 0, 0];\n      }\n      if (me._rgb.length === 3) {\n        me._rgb.push(1);\n      }\n    }\n    Color.prototype.toString = function () {\n      return this.hex();\n    };\n    return Color;\n  }();\n  chroma._input = _input;\n\n  /**\n  \tColorBrewer colors for chroma.js\n  \n  \tCopyright (c) 2002 Cynthia Brewer, Mark Harrower, and The \n  \tPennsylvania State University.\n  \n  \tLicensed under the Apache License, Version 2.0 (the \"License\"); \n  \tyou may not use this file except in compliance with the License.\n  \tYou may obtain a copy of the License at\t\n  \thttp://www.apache.org/licenses/LICENSE-2.0\n  \n  \tUnless required by applicable law or agreed to in writing, software distributed\n  \tunder the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n  \tCONDITIONS OF ANY KIND, either express or implied. See the License for the\n  \tspecific language governing permissions and limitations under the License.\n  \n      @preserve\n   */\n\n  chroma.brewer = brewer = {\n    OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n    PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n    BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n    Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n    BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n    YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n    YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n    Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n    RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n    Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n    YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n    Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n    GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n    Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n    YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n    PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n    Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n    PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n    Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n    Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n    RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n    RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n    PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n    PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n    RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n    BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n    RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n    PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n    Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n    Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n    Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n    Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n    Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n    Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n    Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n    Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2']\n  };\n  (function () {\n    var key, results;\n    results = [];\n    for (key in brewer) {\n      results.push(brewer[key.toLowerCase()] = brewer[key]);\n    }\n    return results;\n  })();\n\n  /**\n  \tX11 color names\n  \n  \thttp://www.w3.org/TR/css3-color/#svg-color\n   */\n\n  w3cx11 = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflower: '#6495ed',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    gold: '#ffd700',\n    goldenrod: '#daa520',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    laserlemon: '#ffff54',\n    lavender: '#e6e6fa',\n    lavenderblush: '#fff0f5',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrod: '#fafad2',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    maroon2: '#7f0000',\n    maroon3: '#b03060',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    purple2: '#7f007f',\n    purple3: '#a020f0',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32'\n  };\n  chroma.colors = colors = w3cx11;\n  lab2rgb = function () {\n    var a, args, b, g, l, r, x, y, z;\n    args = unpack(arguments);\n    l = args[0], a = args[1], b = args[2];\n    y = (l + 16) / 116;\n    x = isNaN(a) ? y : y + a / 500;\n    z = isNaN(b) ? y : y - b / 200;\n    y = LAB_CONSTANTS.Yn * lab_xyz(y);\n    x = LAB_CONSTANTS.Xn * lab_xyz(x);\n    z = LAB_CONSTANTS.Zn * lab_xyz(z);\n    r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);\n    g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n    b = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n  xyz_rgb = function (r) {\n    return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow(r, 1 / 2.4) - 0.055);\n  };\n  lab_xyz = function (t) {\n    if (t > LAB_CONSTANTS.t1) {\n      return t * t * t;\n    } else {\n      return LAB_CONSTANTS.t2 * (t - LAB_CONSTANTS.t0);\n    }\n  };\n  LAB_CONSTANTS = {\n    Kn: 18,\n    Xn: 0.950470,\n    Yn: 1,\n    Zn: 1.088830,\n    t0: 0.137931034,\n    t1: 0.206896552,\n    t2: 0.12841855,\n    t3: 0.008856452\n  };\n  rgb2lab = function () {\n    var b, g, r, ref, ref1, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2xyz(r, g, b), x = ref1[0], y = ref1[1], z = ref1[2];\n    return [116 * y - 16, 500 * (x - y), 200 * (y - z)];\n  };\n  rgb_xyz = function (r) {\n    if ((r /= 255) <= 0.04045) {\n      return r / 12.92;\n    } else {\n      return pow((r + 0.055) / 1.055, 2.4);\n    }\n  };\n  xyz_lab = function (t) {\n    if (t > LAB_CONSTANTS.t3) {\n      return pow(t, 1 / 3);\n    } else {\n      return t / LAB_CONSTANTS.t2 + LAB_CONSTANTS.t0;\n    }\n  };\n  rgb2xyz = function () {\n    var b, g, r, ref, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = rgb_xyz(r);\n    g = rgb_xyz(g);\n    b = rgb_xyz(b);\n    x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS.Xn);\n    y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS.Yn);\n    z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS.Zn);\n    return [x, y, z];\n  };\n  chroma.lab = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['lab']), function () {});\n  };\n  _input.lab = lab2rgb;\n  Color.prototype.lab = function () {\n    return rgb2lab(this._rgb);\n  };\n  bezier = function (colors) {\n    var I, I0, I1, c, lab0, lab1, lab2, lab3, ref, ref1, ref2;\n    colors = function () {\n      var len, o, results;\n      results = [];\n      for (o = 0, len = colors.length; o < len; o++) {\n        c = colors[o];\n        results.push(chroma(c));\n      }\n      return results;\n    }();\n    if (colors.length === 2) {\n      ref = function () {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      }(), lab0 = ref[0], lab1 = ref[1];\n      I = function (t) {\n        var i, lab;\n        lab = function () {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push(lab0[i] + t * (lab1[i] - lab0[i]));\n          }\n          return results;\n        }();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 3) {\n      ref1 = function () {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      }(), lab0 = ref1[0], lab1 = ref1[1], lab2 = ref1[2];\n      I = function (t) {\n        var i, lab;\n        lab = function () {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i]);\n          }\n          return results;\n        }();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 4) {\n      ref2 = function () {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      }(), lab0 = ref2[0], lab1 = ref2[1], lab2 = ref2[2], lab3 = ref2[3];\n      I = function (t) {\n        var i, lab;\n        lab = function () {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i]);\n          }\n          return results;\n        }();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 5) {\n      I0 = bezier(colors.slice(0, 3));\n      I1 = bezier(colors.slice(2, 5));\n      I = function (t) {\n        if (t < 0.5) {\n          return I0(t * 2);\n        } else {\n          return I1((t - 0.5) * 2);\n        }\n      };\n    }\n    return I;\n  };\n  chroma.bezier = function (colors) {\n    var f;\n    f = bezier(colors);\n    f.scale = function () {\n      return chroma.scale(f);\n    };\n    return f;\n  };\n  chroma.cubehelix = function (start, rotations, hue, gamma, lightness) {\n    var dh, dl, f;\n    if (start == null) {\n      start = 300;\n    }\n    if (rotations == null) {\n      rotations = -1.5;\n    }\n    if (hue == null) {\n      hue = 1;\n    }\n    if (gamma == null) {\n      gamma = 1;\n    }\n    if (lightness == null) {\n      lightness = [0, 1];\n    }\n    dh = 0;\n    if (type(lightness) === 'array') {\n      dl = lightness[1] - lightness[0];\n    } else {\n      dl = 0;\n      lightness = [lightness, lightness];\n    }\n    f = function (fract) {\n      var a, amp, b, cos_a, g, h, l, r, sin_a;\n      a = TWOPI * ((start + 120) / 360 + rotations * fract);\n      l = pow(lightness[0] + dl * fract, gamma);\n      h = dh !== 0 ? hue[0] + fract * dh : hue;\n      amp = h * l * (1 - l) / 2;\n      cos_a = cos(a);\n      sin_a = sin(a);\n      r = l + amp * (-0.14861 * cos_a + 1.78277 * sin_a);\n      g = l + amp * (-0.29227 * cos_a - 0.90649 * sin_a);\n      b = l + amp * (+1.97294 * cos_a);\n      return chroma(clip_rgb([r * 255, g * 255, b * 255, 1]));\n    };\n    f.start = function (s) {\n      if (s == null) {\n        return start;\n      }\n      start = s;\n      return f;\n    };\n    f.rotations = function (r) {\n      if (r == null) {\n        return rotations;\n      }\n      rotations = r;\n      return f;\n    };\n    f.gamma = function (g) {\n      if (g == null) {\n        return gamma;\n      }\n      gamma = g;\n      return f;\n    };\n    f.hue = function (h) {\n      if (h == null) {\n        return hue;\n      }\n      hue = h;\n      if (type(hue) === 'array') {\n        dh = hue[1] - hue[0];\n        if (dh === 0) {\n          hue = hue[1];\n        }\n      } else {\n        dh = 0;\n      }\n      return f;\n    };\n    f.lightness = function (h) {\n      if (h == null) {\n        return lightness;\n      }\n      if (type(h) === 'array') {\n        lightness = h;\n        dl = h[1] - h[0];\n      } else {\n        lightness = [h, h];\n        dl = 0;\n      }\n      return f;\n    };\n    f.scale = function () {\n      return chroma.scale(f);\n    };\n    f.hue(hue);\n    return f;\n  };\n  chroma.random = function () {\n    var code, digits, i, o;\n    digits = '0123456789abcdef';\n    code = '#';\n    for (i = o = 0; o < 6; i = ++o) {\n      code += digits.charAt(floor(Math.random() * 16));\n    }\n    return new Color(code);\n  };\n  _interpolators = [];\n  interpolate = function (col1, col2, f, m) {\n    var interpol, len, o, res;\n    if (f == null) {\n      f = 0.5;\n    }\n    if (m == null) {\n      m = 'rgb';\n    }\n\n    /*\n    interpolates between colors\n    f = 0 --> me\n    f = 1 --> col\n     */\n    if (type(col1) !== 'object') {\n      col1 = chroma(col1);\n    }\n    if (type(col2) !== 'object') {\n      col2 = chroma(col2);\n    }\n    for (o = 0, len = _interpolators.length; o < len; o++) {\n      interpol = _interpolators[o];\n      if (m === interpol[0]) {\n        res = interpol[1](col1, col2, f, m);\n        break;\n      }\n    }\n    if (res == null) {\n      throw \"color mode \" + m + \" is not supported\";\n    }\n    return res.alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n  };\n  chroma.interpolate = interpolate;\n  Color.prototype.interpolate = function (col2, f, m) {\n    return interpolate(this, col2, f, m);\n  };\n  chroma.mix = interpolate;\n  Color.prototype.mix = Color.prototype.interpolate;\n  _input.rgb = function () {\n    var k, ref, results, v;\n    ref = unpack(arguments);\n    results = [];\n    for (k in ref) {\n      v = ref[k];\n      results.push(v);\n    }\n    return results;\n  };\n  chroma.rgb = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['rgb']), function () {});\n  };\n  Color.prototype.rgb = function (round) {\n    if (round == null) {\n      round = true;\n    }\n    if (round) {\n      return this._rgb.map(Math.round).slice(0, 3);\n    } else {\n      return this._rgb.slice(0, 3);\n    }\n  };\n  Color.prototype.rgba = function (round) {\n    if (round == null) {\n      round = true;\n    }\n    if (!round) {\n      return this._rgb.slice(0);\n    }\n    return [Math.round(this._rgb[0]), Math.round(this._rgb[1]), Math.round(this._rgb[2]), this._rgb[3]];\n  };\n  _guess_formats.push({\n    p: 3,\n    test: function (n) {\n      var a;\n      a = unpack(arguments);\n      if (type(a) === 'array' && a.length === 3) {\n        return 'rgb';\n      }\n      if (a.length === 4 && type(a[3]) === \"number\" && a[3] >= 0 && a[3] <= 1) {\n        return 'rgb';\n      }\n    }\n  });\n  _input.lrgb = _input.rgb;\n  interpolate_lrgb = function (col1, col2, f, m) {\n    var xyz0, xyz1;\n    xyz0 = col1._rgb;\n    xyz1 = col2._rgb;\n    return new Color(sqrt(pow(xyz0[0], 2) * (1 - f) + pow(xyz1[0], 2) * f), sqrt(pow(xyz0[1], 2) * (1 - f) + pow(xyz1[1], 2) * f), sqrt(pow(xyz0[2], 2) * (1 - f) + pow(xyz1[2], 2) * f), m);\n  };\n  _average_lrgb = function (colors) {\n    var col, f, len, o, rgb, xyz;\n    f = 1 / colors.length;\n    xyz = [0, 0, 0, 0];\n    for (o = 0, len = colors.length; o < len; o++) {\n      col = colors[o];\n      rgb = col._rgb;\n      xyz[0] += pow(rgb[0], 2) * f;\n      xyz[1] += pow(rgb[1], 2) * f;\n      xyz[2] += pow(rgb[2], 2) * f;\n      xyz[3] += rgb[3] * f;\n    }\n    xyz[0] = sqrt(xyz[0]);\n    xyz[1] = sqrt(xyz[1]);\n    xyz[2] = sqrt(xyz[2]);\n    if (xyz[3] > 1) {\n      xyz[3] = 1;\n    }\n    return new Color(clip_rgb(xyz));\n  };\n  _interpolators.push(['lrgb', interpolate_lrgb]);\n  chroma.average = function (colors, mode) {\n    var A, alpha, c, cnt, dx, dy, first, i, l, len, o, xyz, xyz2;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    l = colors.length;\n    colors = colors.map(function (c) {\n      return chroma(c);\n    });\n    first = colors.splice(0, 1)[0];\n    if (mode === 'lrgb') {\n      return _average_lrgb(colors);\n    }\n    xyz = first.get(mode);\n    cnt = [];\n    dx = 0;\n    dy = 0;\n    for (i in xyz) {\n      xyz[i] = xyz[i] || 0;\n      cnt.push(isNaN(xyz[i]) ? 0 : 1);\n      if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n        A = xyz[i] / 180 * PI;\n        dx += cos(A);\n        dy += sin(A);\n      }\n    }\n    alpha = first.alpha();\n    for (o = 0, len = colors.length; o < len; o++) {\n      c = colors[o];\n      xyz2 = c.get(mode);\n      alpha += c.alpha();\n      for (i in xyz) {\n        if (!isNaN(xyz2[i])) {\n          cnt[i] += 1;\n          if (mode.charAt(i) === 'h') {\n            A = xyz2[i] / 180 * PI;\n            dx += cos(A);\n            dy += sin(A);\n          } else {\n            xyz[i] += xyz2[i];\n          }\n        }\n      }\n    }\n    for (i in xyz) {\n      if (mode.charAt(i) === 'h') {\n        A = atan2(dy / cnt[i], dx / cnt[i]) / PI * 180;\n        while (A < 0) {\n          A += 360;\n        }\n        while (A >= 360) {\n          A -= 360;\n        }\n        xyz[i] = A;\n      } else {\n        xyz[i] = xyz[i] / cnt[i];\n      }\n    }\n    return chroma(xyz, mode).alpha(alpha / l);\n  };\n  hex2rgb = function (hex) {\n    var a, b, g, r, rgb, u;\n    if (hex.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {\n      if (hex.length === 4 || hex.length === 7) {\n        hex = hex.substr(1);\n      }\n      if (hex.length === 3) {\n        hex = hex.split(\"\");\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n      }\n      u = parseInt(hex, 16);\n      r = u >> 16;\n      g = u >> 8 & 0xFF;\n      b = u & 0xFF;\n      return [r, g, b, 1];\n    }\n    if (hex.match(/^#?([A-Fa-f0-9]{8})$/)) {\n      if (hex.length === 9) {\n        hex = hex.substr(1);\n      }\n      u = parseInt(hex, 16);\n      r = u >> 24 & 0xFF;\n      g = u >> 16 & 0xFF;\n      b = u >> 8 & 0xFF;\n      a = round((u & 0xFF) / 0xFF * 100) / 100;\n      return [r, g, b, a];\n    }\n    if (_input.css != null && (rgb = _input.css(hex))) {\n      return rgb;\n    }\n    throw \"unknown color: \" + hex;\n  };\n  rgb2hex = function (channels, mode) {\n    var a, b, g, hxa, r, str, u;\n    if (mode == null) {\n      mode = 'auto';\n    }\n    r = channels[0], g = channels[1], b = channels[2], a = channels[3];\n    if (mode === 'auto') {\n      mode = a < 1 ? 'rgba' : 'rgb';\n    }\n    r = Math.round(r);\n    g = Math.round(g);\n    b = Math.round(b);\n    u = r << 16 | g << 8 | b;\n    str = \"000000\" + u.toString(16);\n    str = str.substr(str.length - 6);\n    hxa = '0' + round(a * 255).toString(16);\n    hxa = hxa.substr(hxa.length - 2);\n    return \"#\" + function () {\n      switch (mode.toLowerCase()) {\n        case 'rgba':\n          return str + hxa;\n        case 'argb':\n          return hxa + str;\n        default:\n          return str;\n      }\n    }();\n  };\n  _input.hex = function (h) {\n    return hex2rgb(h);\n  };\n  chroma.hex = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['hex']), function () {});\n  };\n  Color.prototype.hex = function (mode) {\n    if (mode == null) {\n      mode = 'auto';\n    }\n    return rgb2hex(this._rgb, mode);\n  };\n  _guess_formats.push({\n    p: 4,\n    test: function (n) {\n      if (arguments.length === 1 && type(n) === \"string\") {\n        return 'hex';\n      }\n    }\n  });\n  hsl2rgb = function () {\n    var args, b, c, g, h, i, l, o, r, ref, s, t1, t2, t3;\n    args = unpack(arguments);\n    h = args[0], s = args[1], l = args[2];\n    if (s === 0) {\n      r = g = b = l * 255;\n    } else {\n      t3 = [0, 0, 0];\n      c = [0, 0, 0];\n      t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      t1 = 2 * l - t2;\n      h /= 360;\n      t3[0] = h + 1 / 3;\n      t3[1] = h;\n      t3[2] = h - 1 / 3;\n      for (i = o = 0; o <= 2; i = ++o) {\n        if (t3[i] < 0) {\n          t3[i] += 1;\n        }\n        if (t3[i] > 1) {\n          t3[i] -= 1;\n        }\n        if (6 * t3[i] < 1) {\n          c[i] = t1 + (t2 - t1) * 6 * t3[i];\n        } else if (2 * t3[i] < 1) {\n          c[i] = t2;\n        } else if (3 * t3[i] < 2) {\n          c[i] = t1 + (t2 - t1) * (2 / 3 - t3[i]) * 6;\n        } else {\n          c[i] = t1;\n        }\n      }\n      ref = [round(c[0] * 255), round(c[1] * 255), round(c[2] * 255)], r = ref[0], g = ref[1], b = ref[2];\n    }\n    if (args.length > 3) {\n      return [r, g, b, args[3]];\n    } else {\n      return [r, g, b];\n    }\n  };\n  rgb2hsl = function (r, g, b) {\n    var h, l, min, ref, s;\n    if (r !== void 0 && r.length >= 3) {\n      ref = r, r = ref[0], g = ref[1], b = ref[2];\n    }\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    l = (max + min) / 2;\n    if (max === min) {\n      s = 0;\n      h = Number.NaN;\n    } else {\n      s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n    }\n    if (r === max) {\n      h = (g - b) / (max - min);\n    } else if (g === max) {\n      h = 2 + (b - r) / (max - min);\n    } else if (b === max) {\n      h = 4 + (r - g) / (max - min);\n    }\n    h *= 60;\n    if (h < 0) {\n      h += 360;\n    }\n    return [h, s, l];\n  };\n  chroma.hsl = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['hsl']), function () {});\n  };\n  _input.hsl = hsl2rgb;\n  Color.prototype.hsl = function () {\n    return rgb2hsl(this._rgb);\n  };\n  hsv2rgb = function () {\n    var args, b, f, g, h, i, p, q, r, ref, ref1, ref2, ref3, ref4, ref5, s, t, v;\n    args = unpack(arguments);\n    h = args[0], s = args[1], v = args[2];\n    v *= 255;\n    if (s === 0) {\n      r = g = b = v;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n      if (h > 360) {\n        h -= 360;\n      }\n      if (h < 0) {\n        h += 360;\n      }\n      h /= 60;\n      i = floor(h);\n      f = h - i;\n      p = v * (1 - s);\n      q = v * (1 - s * f);\n      t = v * (1 - s * (1 - f));\n      switch (i) {\n        case 0:\n          ref = [v, t, p], r = ref[0], g = ref[1], b = ref[2];\n          break;\n        case 1:\n          ref1 = [q, v, p], r = ref1[0], g = ref1[1], b = ref1[2];\n          break;\n        case 2:\n          ref2 = [p, v, t], r = ref2[0], g = ref2[1], b = ref2[2];\n          break;\n        case 3:\n          ref3 = [p, q, v], r = ref3[0], g = ref3[1], b = ref3[2];\n          break;\n        case 4:\n          ref4 = [t, p, v], r = ref4[0], g = ref4[1], b = ref4[2];\n          break;\n        case 5:\n          ref5 = [v, p, q], r = ref5[0], g = ref5[1], b = ref5[2];\n      }\n    }\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n  rgb2hsv = function () {\n    var b, delta, g, h, min, r, ref, s, v;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    delta = max - min;\n    v = max / 255.0;\n    if (max === 0) {\n      h = Number.NaN;\n      s = 0;\n    } else {\n      s = delta / max;\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n      h *= 60;\n      if (h < 0) {\n        h += 360;\n      }\n    }\n    return [h, s, v];\n  };\n  chroma.hsv = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['hsv']), function () {});\n  };\n  _input.hsv = hsv2rgb;\n  Color.prototype.hsv = function () {\n    return rgb2hsv(this._rgb);\n  };\n  num2rgb = function (num) {\n    var b, g, r;\n    if (type(num) === \"number\" && num >= 0 && num <= 0xFFFFFF) {\n      r = num >> 16;\n      g = num >> 8 & 0xFF;\n      b = num & 0xFF;\n      return [r, g, b, 1];\n    }\n    console.warn(\"unknown num color: \" + num);\n    return [0, 0, 0, 1];\n  };\n  rgb2num = function () {\n    var b, g, r, ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    return (r << 16) + (g << 8) + b;\n  };\n  chroma.num = function (num) {\n    return new Color(num, 'num');\n  };\n  Color.prototype.num = function (mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    return rgb2num(this._rgb, mode);\n  };\n  _input.num = num2rgb;\n  _guess_formats.push({\n    p: 1,\n    test: function (n) {\n      if (arguments.length === 1 && type(n) === \"number\" && n >= 0 && n <= 0xFFFFFF) {\n        return 'num';\n      }\n    }\n  });\n  hcg2rgb = function () {\n    var _c, _g, args, b, c, f, g, h, i, p, q, r, ref, ref1, ref2, ref3, ref4, ref5, t, v;\n    args = unpack(arguments);\n    h = args[0], c = args[1], _g = args[2];\n    c = c / 100;\n    g = g / 100 * 255;\n    _c = c * 255;\n    if (c === 0) {\n      r = g = b = _g;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n      if (h > 360) {\n        h -= 360;\n      }\n      if (h < 0) {\n        h += 360;\n      }\n      h /= 60;\n      i = floor(h);\n      f = h - i;\n      p = _g * (1 - c);\n      q = p + _c * (1 - f);\n      t = p + _c * f;\n      v = p + _c;\n      switch (i) {\n        case 0:\n          ref = [v, t, p], r = ref[0], g = ref[1], b = ref[2];\n          break;\n        case 1:\n          ref1 = [q, v, p], r = ref1[0], g = ref1[1], b = ref1[2];\n          break;\n        case 2:\n          ref2 = [p, v, t], r = ref2[0], g = ref2[1], b = ref2[2];\n          break;\n        case 3:\n          ref3 = [p, q, v], r = ref3[0], g = ref3[1], b = ref3[2];\n          break;\n        case 4:\n          ref4 = [t, p, v], r = ref4[0], g = ref4[1], b = ref4[2];\n          break;\n        case 5:\n          ref5 = [v, p, q], r = ref5[0], g = ref5[1], b = ref5[2];\n      }\n    }\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n  rgb2hcg = function () {\n    var _g, b, c, delta, g, h, min, r, ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    delta = max - min;\n    c = delta * 100 / 255;\n    _g = min / (255 - delta) * 100;\n    if (delta === 0) {\n      h = Number.NaN;\n    } else {\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n      h *= 60;\n      if (h < 0) {\n        h += 360;\n      }\n    }\n    return [h, c, _g];\n  };\n  chroma.hcg = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['hcg']), function () {});\n  };\n  _input.hcg = hcg2rgb;\n  Color.prototype.hcg = function () {\n    return rgb2hcg(this._rgb);\n  };\n  css2rgb = function (css) {\n    var aa, ab, hsl, i, m, o, rgb, w;\n    css = css.toLowerCase();\n    if (chroma.colors != null && chroma.colors[css]) {\n      return hex2rgb(chroma.colors[css]);\n    }\n    if (m = css.match(/rgb\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = o = 0; o <= 2; i = ++o) {\n        rgb[i] = +rgb[i];\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = w = 0; w <= 3; i = ++w) {\n        rgb[i] = +rgb[i];\n      }\n    } else if (m = css.match(/rgb\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = aa = 0; aa <= 2; i = ++aa) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = ab = 0; ab <= 2; i = ++ab) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = +rgb[3];\n    } else if (m = css.match(/hsl\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = 1;\n    } else if (m = css.match(/hsla\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = +m[4];\n    }\n    return rgb;\n  };\n  rgb2css = function (rgba) {\n    var mode;\n    mode = rgba[3] < 1 ? 'rgba' : 'rgb';\n    if (mode === 'rgb') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ')';\n    } else if (mode === 'rgba') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ',' + rgba[3] + ')';\n    } else {}\n  };\n  rnd = function (a) {\n    return round(a * 100) / 100;\n  };\n  hsl2css = function (hsl, alpha) {\n    var mode;\n    mode = alpha < 1 ? 'hsla' : 'hsl';\n    hsl[0] = rnd(hsl[0] || 0);\n    hsl[1] = rnd(hsl[1] * 100) + '%';\n    hsl[2] = rnd(hsl[2] * 100) + '%';\n    if (mode === 'hsla') {\n      hsl[3] = alpha;\n    }\n    return mode + '(' + hsl.join(',') + ')';\n  };\n  _input.css = function (h) {\n    return css2rgb(h);\n  };\n  chroma.css = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['css']), function () {});\n  };\n  Color.prototype.css = function (mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (mode.slice(0, 3) === 'rgb') {\n      return rgb2css(this._rgb);\n    } else if (mode.slice(0, 3) === 'hsl') {\n      return hsl2css(this.hsl(), this.alpha());\n    }\n  };\n  _input.named = function (name) {\n    return hex2rgb(w3cx11[name]);\n  };\n  _guess_formats.push({\n    p: 5,\n    test: function (n) {\n      if (arguments.length === 1 && w3cx11[n] != null) {\n        return 'named';\n      }\n    }\n  });\n  Color.prototype.name = function (n) {\n    var h, k;\n    if (arguments.length) {\n      if (w3cx11[n]) {\n        this._rgb = hex2rgb(w3cx11[n]);\n      }\n      this._rgb[3] = 1;\n      this;\n    }\n    h = this.hex('rgb');\n    for (k in w3cx11) {\n      if (h === w3cx11[k]) {\n        return k;\n      }\n    }\n    return h;\n  };\n  lch2lab = function () {\n    /*\n    Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n    These formulas were invented by David Dalrymple to obtain maximum contrast without going\n    out of gamut if the parameters are in the range 0-1.\n    \n    A saturation multiplier was added by Gregor Aisch\n     */\n    var c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], c = ref[1], h = ref[2];\n    h = h * DEG2RAD;\n    return [l, cos(h) * c, sin(h) * c];\n  };\n  lch2rgb = function () {\n    var L, a, args, b, c, g, h, l, r, ref, ref1;\n    args = unpack(arguments);\n    l = args[0], c = args[1], h = args[2];\n    ref = lch2lab(l, c, h), L = ref[0], a = ref[1], b = ref[2];\n    ref1 = lab2rgb(L, a, b), r = ref1[0], g = ref1[1], b = ref1[2];\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n  lab2lch = function () {\n    var a, b, c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], a = ref[1], b = ref[2];\n    c = sqrt(a * a + b * b);\n    h = (atan2(b, a) * RAD2DEG + 360) % 360;\n    if (round(c * 10000) === 0) {\n      h = Number.NaN;\n    }\n    return [l, c, h];\n  };\n  rgb2lch = function () {\n    var a, b, g, l, r, ref, ref1;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2lab(r, g, b), l = ref1[0], a = ref1[1], b = ref1[2];\n    return lab2lch(l, a, b);\n  };\n  chroma.lch = function () {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'lch');\n  };\n  chroma.hcl = function () {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'hcl');\n  };\n  _input.lch = lch2rgb;\n  _input.hcl = function () {\n    var c, h, l, ref;\n    ref = unpack(arguments), h = ref[0], c = ref[1], l = ref[2];\n    return lch2rgb([l, c, h]);\n  };\n  Color.prototype.lch = function () {\n    return rgb2lch(this._rgb);\n  };\n  Color.prototype.hcl = function () {\n    return rgb2lch(this._rgb).reverse();\n  };\n  rgb2cmyk = function (mode) {\n    var b, c, f, g, k, m, r, ref, y;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = r / 255;\n    g = g / 255;\n    b = b / 255;\n    k = 1 - Math.max(r, Math.max(g, b));\n    f = k < 1 ? 1 / (1 - k) : 0;\n    c = (1 - r - k) * f;\n    m = (1 - g - k) * f;\n    y = (1 - b - k) * f;\n    return [c, m, y, k];\n  };\n  cmyk2rgb = function () {\n    var alpha, args, b, c, g, k, m, r, y;\n    args = unpack(arguments);\n    c = args[0], m = args[1], y = args[2], k = args[3];\n    alpha = args.length > 4 ? args[4] : 1;\n    if (k === 1) {\n      return [0, 0, 0, alpha];\n    }\n    r = c >= 1 ? 0 : 255 * (1 - c) * (1 - k);\n    g = m >= 1 ? 0 : 255 * (1 - m) * (1 - k);\n    b = y >= 1 ? 0 : 255 * (1 - y) * (1 - k);\n    return [r, g, b, alpha];\n  };\n  _input.cmyk = function () {\n    return cmyk2rgb(unpack(arguments));\n  };\n  chroma.cmyk = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['cmyk']), function () {});\n  };\n  Color.prototype.cmyk = function () {\n    return rgb2cmyk(this._rgb);\n  };\n  _input.gl = function () {\n    var i, k, o, rgb, v;\n    rgb = function () {\n      var ref, results;\n      ref = unpack(arguments);\n      results = [];\n      for (k in ref) {\n        v = ref[k];\n        results.push(v);\n      }\n      return results;\n    }.apply(this, arguments);\n    for (i = o = 0; o <= 2; i = ++o) {\n      rgb[i] *= 255;\n    }\n    return rgb;\n  };\n  chroma.gl = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['gl']), function () {});\n  };\n  Color.prototype.gl = function () {\n    var rgb;\n    rgb = this._rgb;\n    return [rgb[0] / 255, rgb[1] / 255, rgb[2] / 255, rgb[3]];\n  };\n  rgb2luminance = function (r, g, b) {\n    var ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = luminance_x(r);\n    g = luminance_x(g);\n    b = luminance_x(b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  };\n  luminance_x = function (x) {\n    x /= 255;\n    if (x <= 0.03928) {\n      return x / 12.92;\n    } else {\n      return pow((x + 0.055) / 1.055, 2.4);\n    }\n  };\n  interpolate_rgb = function (col1, col2, f, m) {\n    var xyz0, xyz1;\n    xyz0 = col1._rgb;\n    xyz1 = col2._rgb;\n    return new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n  _interpolators.push(['rgb', interpolate_rgb]);\n  Color.prototype.luminance = function (lum, mode) {\n    var cur_lum, eps, max_iter, rgba, test;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (!arguments.length) {\n      return rgb2luminance(this._rgb);\n    }\n    rgba = this._rgb;\n    if (lum === 0) {\n      rgba = [0, 0, 0, this._rgb[3]];\n    } else if (lum === 1) {\n      rgba = [255, 255, 255, this[3]];\n    } else {\n      cur_lum = rgb2luminance(this._rgb);\n      eps = 1e-7;\n      max_iter = 20;\n      test = function (l, h) {\n        var lm, m;\n        m = l.interpolate(h, 0.5, mode);\n        lm = m.luminance();\n        if (Math.abs(lum - lm) < eps || !max_iter--) {\n          return m;\n        }\n        if (lm > lum) {\n          return test(l, m);\n        }\n        return test(m, h);\n      };\n      if (cur_lum > lum) {\n        rgba = test(chroma('black'), this).rgba();\n      } else {\n        rgba = test(this, chroma('white')).rgba();\n      }\n    }\n    return chroma(rgba).alpha(this.alpha());\n  };\n  temperature2rgb = function (kelvin) {\n    var b, g, r, temp;\n    temp = kelvin / 100;\n    if (temp < 66) {\n      r = 255;\n      g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n      b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n    } else {\n      r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n      g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n      b = 255;\n    }\n    return [r, g, b];\n  };\n  rgb2temperature = function () {\n    var b, eps, g, maxTemp, minTemp, r, ref, rgb, temp;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    minTemp = 1000;\n    maxTemp = 40000;\n    eps = 0.4;\n    while (maxTemp - minTemp > eps) {\n      temp = (maxTemp + minTemp) * 0.5;\n      rgb = temperature2rgb(temp);\n      if (rgb[2] / rgb[0] >= b / r) {\n        maxTemp = temp;\n      } else {\n        minTemp = temp;\n      }\n    }\n    return round(temp);\n  };\n  chroma.temperature = chroma.kelvin = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['temperature']), function () {});\n  };\n  _input.temperature = _input.kelvin = _input.K = temperature2rgb;\n  Color.prototype.temperature = function () {\n    return rgb2temperature(this._rgb);\n  };\n  Color.prototype.kelvin = Color.prototype.temperature;\n  chroma.contrast = function (a, b) {\n    var l1, l2, ref, ref1;\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    l1 = a.luminance();\n    l2 = b.luminance();\n    if (l1 > l2) {\n      return (l1 + 0.05) / (l2 + 0.05);\n    } else {\n      return (l2 + 0.05) / (l1 + 0.05);\n    }\n  };\n  chroma.distance = function (a, b, mode) {\n    var d, i, l1, l2, ref, ref1, sum_sq;\n    if (mode == null) {\n      mode = 'lab';\n    }\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    l1 = a.get(mode);\n    l2 = b.get(mode);\n    sum_sq = 0;\n    for (i in l1) {\n      d = (l1[i] || 0) - (l2[i] || 0);\n      sum_sq += d * d;\n    }\n    return Math.sqrt(sum_sq);\n  };\n  chroma.deltaE = function (a, b, L, C) {\n    var L1, L2, a1, a2, b1, b2, c1, c2, c4, dH2, delA, delB, delC, delL, f, h1, ref, ref1, ref2, ref3, sc, sh, sl, t, v1, v2, v3;\n    if (L == null) {\n      L = 1;\n    }\n    if (C == null) {\n      C = 1;\n    }\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    ref2 = a.lab(), L1 = ref2[0], a1 = ref2[1], b1 = ref2[2];\n    ref3 = b.lab(), L2 = ref3[0], a2 = ref3[1], b2 = ref3[2];\n    c1 = sqrt(a1 * a1 + b1 * b1);\n    c2 = sqrt(a2 * a2 + b2 * b2);\n    sl = L1 < 16.0 ? 0.511 : 0.040975 * L1 / (1.0 + 0.01765 * L1);\n    sc = 0.0638 * c1 / (1.0 + 0.0131 * c1) + 0.638;\n    h1 = c1 < 0.000001 ? 0.0 : atan2(b1, a1) * 180.0 / PI;\n    while (h1 < 0) {\n      h1 += 360;\n    }\n    while (h1 >= 360) {\n      h1 -= 360;\n    }\n    t = h1 >= 164.0 && h1 <= 345.0 ? 0.56 + abs(0.2 * cos(PI * (h1 + 168.0) / 180.0)) : 0.36 + abs(0.4 * cos(PI * (h1 + 35.0) / 180.0));\n    c4 = c1 * c1 * c1 * c1;\n    f = sqrt(c4 / (c4 + 1900.0));\n    sh = sc * (f * t + 1.0 - f);\n    delL = L1 - L2;\n    delC = c1 - c2;\n    delA = a1 - a2;\n    delB = b1 - b2;\n    dH2 = delA * delA + delB * delB - delC * delC;\n    v1 = delL / (L * sl);\n    v2 = delC / (C * sc);\n    v3 = sh;\n    return sqrt(v1 * v1 + v2 * v2 + dH2 / (v3 * v3));\n  };\n  Color.prototype.get = function (modechan) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    src = me[mode]();\n    if (channel) {\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        return src[i];\n      } else {\n        return console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      return src;\n    }\n  };\n  Color.prototype.set = function (modechan, value) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    if (channel) {\n      src = me[mode]();\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        if (type(value) === 'string') {\n          switch (value.charAt(0)) {\n            case '+':\n              src[i] += +value;\n              break;\n            case '-':\n              src[i] += +value;\n              break;\n            case '*':\n              src[i] *= +value.substr(1);\n              break;\n            case '/':\n              src[i] /= +value.substr(1);\n              break;\n            default:\n              src[i] = +value;\n          }\n        } else {\n          src[i] = value;\n        }\n      } else {\n        console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      src = value;\n    }\n    return chroma(src, mode).alpha(me.alpha());\n  };\n  Color.prototype.clipped = function () {\n    return this._rgb._clipped || false;\n  };\n  Color.prototype.alpha = function (a) {\n    if (arguments.length) {\n      return chroma.rgb([this._rgb[0], this._rgb[1], this._rgb[2], a]);\n    }\n    return this._rgb[3];\n  };\n  Color.prototype.darken = function (amount) {\n    var lab, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lab = me.lab();\n    lab[0] -= LAB_CONSTANTS.Kn * amount;\n    return chroma.lab(lab).alpha(me.alpha());\n  };\n  Color.prototype.brighten = function (amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.darken(-amount);\n  };\n  Color.prototype.darker = Color.prototype.darken;\n  Color.prototype.brighter = Color.prototype.brighten;\n  Color.prototype.saturate = function (amount) {\n    var lch, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lch = me.lch();\n    lch[1] += amount * LAB_CONSTANTS.Kn;\n    if (lch[1] < 0) {\n      lch[1] = 0;\n    }\n    return chroma.lch(lch).alpha(me.alpha());\n  };\n  Color.prototype.desaturate = function (amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.saturate(-amount);\n  };\n  Color.prototype.premultiply = function () {\n    var a, rgb;\n    rgb = this.rgb();\n    a = this.alpha();\n    return chroma(rgb[0] * a, rgb[1] * a, rgb[2] * a, a);\n  };\n  blend = function (bottom, top, mode) {\n    if (!blend[mode]) {\n      throw 'unknown blend mode ' + mode;\n    }\n    return blend[mode](bottom, top);\n  };\n  blend_f = function (f) {\n    return function (bottom, top) {\n      var c0, c1;\n      c0 = chroma(top).rgb();\n      c1 = chroma(bottom).rgb();\n      return chroma(f(c0, c1), 'rgb');\n    };\n  };\n  each = function (f) {\n    return function (c0, c1) {\n      var i, o, out;\n      out = [];\n      for (i = o = 0; o <= 3; i = ++o) {\n        out[i] = f(c0[i], c1[i]);\n      }\n      return out;\n    };\n  };\n  normal = function (a, b) {\n    return a;\n  };\n  multiply = function (a, b) {\n    return a * b / 255;\n  };\n  darken = function (a, b) {\n    if (a > b) {\n      return b;\n    } else {\n      return a;\n    }\n  };\n  lighten = function (a, b) {\n    if (a > b) {\n      return a;\n    } else {\n      return b;\n    }\n  };\n  screen = function (a, b) {\n    return 255 * (1 - (1 - a / 255) * (1 - b / 255));\n  };\n  overlay = function (a, b) {\n    if (b < 128) {\n      return 2 * a * b / 255;\n    } else {\n      return 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255));\n    }\n  };\n  burn = function (a, b) {\n    return 255 * (1 - (1 - b / 255) / (a / 255));\n  };\n  dodge = function (a, b) {\n    if (a === 255) {\n      return 255;\n    }\n    a = 255 * (b / 255) / (1 - a / 255);\n    if (a > 255) {\n      return 255;\n    } else {\n      return a;\n    }\n  };\n  blend.normal = blend_f(each(normal));\n  blend.multiply = blend_f(each(multiply));\n  blend.screen = blend_f(each(screen));\n  blend.overlay = blend_f(each(overlay));\n  blend.darken = blend_f(each(darken));\n  blend.lighten = blend_f(each(lighten));\n  blend.dodge = blend_f(each(dodge));\n  blend.burn = blend_f(each(burn));\n  chroma.blend = blend;\n  chroma.analyze = function (data) {\n    var len, o, r, val;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    for (o = 0, len = data.length; o < len; o++) {\n      val = data[o];\n      if (val != null && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function (mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n  chroma.scale = function (colors, positions) {\n    var _classes, _colorCache, _colors, _correctLightness, _domain, _fixed, _gamma, _max, _min, _mode, _nacol, _out, _padding, _pos, _spread, _useCache, classifyValue, f, getClass, getColor, resetCache, setColors, tmap;\n    _mode = 'rgb';\n    _nacol = chroma('#ccc');\n    _spread = 0;\n    _fixed = false;\n    _domain = [0, 1];\n    _pos = [];\n    _padding = [0, 0];\n    _classes = false;\n    _colors = [];\n    _out = false;\n    _min = 0;\n    _max = 1;\n    _correctLightness = false;\n    _colorCache = {};\n    _useCache = true;\n    _gamma = 1;\n    setColors = function (colors) {\n      var c, col, o, ref, ref1, w;\n      if (colors == null) {\n        colors = ['#fff', '#000'];\n      }\n      if (colors != null && type(colors) === 'string' && chroma.brewer != null) {\n        colors = chroma.brewer[colors] || chroma.brewer[colors.toLowerCase()] || colors;\n      }\n      if (type(colors) === 'array') {\n        if (colors.length === 1) {\n          colors = [colors[0], colors[0]];\n        }\n        colors = colors.slice(0);\n        for (c = o = 0, ref = colors.length - 1; 0 <= ref ? o <= ref : o >= ref; c = 0 <= ref ? ++o : --o) {\n          col = colors[c];\n          if (type(col) === \"string\") {\n            colors[c] = chroma(col);\n          }\n        }\n        _pos.length = 0;\n        for (c = w = 0, ref1 = colors.length - 1; 0 <= ref1 ? w <= ref1 : w >= ref1; c = 0 <= ref1 ? ++w : --w) {\n          _pos.push(c / (colors.length - 1));\n        }\n      }\n      resetCache();\n      return _colors = colors;\n    };\n    getClass = function (value) {\n      var i, n;\n      if (_classes != null) {\n        n = _classes.length - 1;\n        i = 0;\n        while (i < n && value >= _classes[i]) {\n          i++;\n        }\n        return i - 1;\n      }\n      return 0;\n    };\n    tmap = function (t) {\n      return t;\n    };\n    classifyValue = function (value) {\n      var i, maxc, minc, n, val;\n      val = value;\n      if (_classes.length > 2) {\n        n = _classes.length - 1;\n        i = getClass(value);\n        minc = _classes[0] + (_classes[1] - _classes[0]) * (0 + _spread * 0.5);\n        maxc = _classes[n - 1] + (_classes[n] - _classes[n - 1]) * (1 - _spread * 0.5);\n        val = _min + (_classes[i] + (_classes[i + 1] - _classes[i]) * 0.5 - minc) / (maxc - minc) * (_max - _min);\n      }\n      return val;\n    };\n    getColor = function (val, bypassMap) {\n      var c, col, i, k, o, p, ref, t;\n      if (bypassMap == null) {\n        bypassMap = false;\n      }\n      if (isNaN(val) || val === null) {\n        return _nacol;\n      }\n      if (!bypassMap) {\n        if (_classes && _classes.length > 2) {\n          c = getClass(val);\n          t = c / (_classes.length - 2);\n        } else if (_max !== _min) {\n          t = (val - _min) / (_max - _min);\n        } else {\n          t = 1;\n        }\n      } else {\n        t = val;\n      }\n      if (!bypassMap) {\n        t = tmap(t);\n      }\n      if (_gamma !== 1) {\n        t = pow(t, _gamma);\n      }\n      t = _padding[0] + t * (1 - _padding[0] - _padding[1]);\n      t = Math.min(1, Math.max(0, t));\n      k = Math.floor(t * 10000);\n      if (_useCache && _colorCache[k]) {\n        col = _colorCache[k];\n      } else {\n        if (type(_colors) === 'array') {\n          for (i = o = 0, ref = _pos.length - 1; 0 <= ref ? o <= ref : o >= ref; i = 0 <= ref ? ++o : --o) {\n            p = _pos[i];\n            if (t <= p) {\n              col = _colors[i];\n              break;\n            }\n            if (t >= p && i === _pos.length - 1) {\n              col = _colors[i];\n              break;\n            }\n            if (t > p && t < _pos[i + 1]) {\n              t = (t - p) / (_pos[i + 1] - p);\n              col = chroma.interpolate(_colors[i], _colors[i + 1], t, _mode);\n              break;\n            }\n          }\n        } else if (type(_colors) === 'function') {\n          col = _colors(t);\n        }\n        if (_useCache) {\n          _colorCache[k] = col;\n        }\n      }\n      return col;\n    };\n    resetCache = function () {\n      return _colorCache = {};\n    };\n    setColors(colors);\n    f = function (v) {\n      var c;\n      c = chroma(getColor(v));\n      if (_out && c[_out]) {\n        return c[_out]();\n      } else {\n        return c;\n      }\n    };\n    f.classes = function (classes) {\n      var d;\n      if (classes != null) {\n        if (type(classes) === 'array') {\n          _classes = classes;\n          _domain = [classes[0], classes[classes.length - 1]];\n        } else {\n          d = chroma.analyze(_domain);\n          if (classes === 0) {\n            _classes = [d.min, d.max];\n          } else {\n            _classes = chroma.limits(d, 'e', classes);\n          }\n        }\n        return f;\n      }\n      return _classes;\n    };\n    f.domain = function (domain) {\n      var c, d, k, len, o, ref, w;\n      if (!arguments.length) {\n        return _domain;\n      }\n      _min = domain[0];\n      _max = domain[domain.length - 1];\n      _pos = [];\n      k = _colors.length;\n      if (domain.length === k && _min !== _max) {\n        for (o = 0, len = domain.length; o < len; o++) {\n          d = domain[o];\n          _pos.push((d - _min) / (_max - _min));\n        }\n      } else {\n        for (c = w = 0, ref = k - 1; 0 <= ref ? w <= ref : w >= ref; c = 0 <= ref ? ++w : --w) {\n          _pos.push(c / (k - 1));\n        }\n      }\n      _domain = [_min, _max];\n      return f;\n    };\n    f.mode = function (_m) {\n      if (!arguments.length) {\n        return _mode;\n      }\n      _mode = _m;\n      resetCache();\n      return f;\n    };\n    f.range = function (colors, _pos) {\n      setColors(colors, _pos);\n      return f;\n    };\n    f.out = function (_o) {\n      _out = _o;\n      return f;\n    };\n    f.spread = function (val) {\n      if (!arguments.length) {\n        return _spread;\n      }\n      _spread = val;\n      return f;\n    };\n    f.correctLightness = function (v) {\n      if (v == null) {\n        v = true;\n      }\n      _correctLightness = v;\n      resetCache();\n      if (_correctLightness) {\n        tmap = function (t) {\n          var L0, L1, L_actual, L_diff, L_ideal, max_iter, pol, t0, t1;\n          L0 = getColor(0, true).lab()[0];\n          L1 = getColor(1, true).lab()[0];\n          pol = L0 > L1;\n          L_actual = getColor(t, true).lab()[0];\n          L_ideal = L0 + (L1 - L0) * t;\n          L_diff = L_actual - L_ideal;\n          t0 = 0;\n          t1 = 1;\n          max_iter = 20;\n          while (Math.abs(L_diff) > 1e-2 && max_iter-- > 0) {\n            (function () {\n              if (pol) {\n                L_diff *= -1;\n              }\n              if (L_diff < 0) {\n                t0 = t;\n                t += (t1 - t) * 0.5;\n              } else {\n                t1 = t;\n                t += (t0 - t) * 0.5;\n              }\n              L_actual = getColor(t, true).lab()[0];\n              return L_diff = L_actual - L_ideal;\n            })();\n          }\n          return t;\n        };\n      } else {\n        tmap = function (t) {\n          return t;\n        };\n      }\n      return f;\n    };\n    f.padding = function (p) {\n      if (p != null) {\n        if (type(p) === 'number') {\n          p = [p, p];\n        }\n        _padding = p;\n        return f;\n      } else {\n        return _padding;\n      }\n    };\n    f.colors = function (numColors, out) {\n      var dd, dm, i, o, ref, result, results, samples, w;\n      if (arguments.length < 2) {\n        out = 'hex';\n      }\n      result = [];\n      if (arguments.length === 0) {\n        result = _colors.slice(0);\n      } else if (numColors === 1) {\n        result = [f(0.5)];\n      } else if (numColors > 1) {\n        dm = _domain[0];\n        dd = _domain[1] - dm;\n        result = function () {\n          results = [];\n          for (var o = 0; 0 <= numColors ? o < numColors : o > numColors; 0 <= numColors ? o++ : o--) {\n            results.push(o);\n          }\n          return results;\n        }.apply(this).map(function (i) {\n          return f(dm + i / (numColors - 1) * dd);\n        });\n      } else {\n        colors = [];\n        samples = [];\n        if (_classes && _classes.length > 2) {\n          for (i = w = 1, ref = _classes.length; 1 <= ref ? w < ref : w > ref; i = 1 <= ref ? ++w : --w) {\n            samples.push((_classes[i - 1] + _classes[i]) * 0.5);\n          }\n        } else {\n          samples = _domain;\n        }\n        result = samples.map(function (v) {\n          return f(v);\n        });\n      }\n      if (chroma[out]) {\n        result = result.map(function (c) {\n          return c[out]();\n        });\n      }\n      return result;\n    };\n    f.cache = function (c) {\n      if (c != null) {\n        _useCache = c;\n        return f;\n      } else {\n        return _useCache;\n      }\n    };\n    f.gamma = function (g) {\n      if (g != null) {\n        _gamma = g;\n        return f;\n      } else {\n        return _gamma;\n      }\n    };\n    f.nodata = function (d) {\n      if (d != null) {\n        _nacol = chroma(d);\n        return f;\n      } else {\n        return _nacol;\n      }\n    };\n    return f;\n  };\n  if (chroma.scales == null) {\n    chroma.scales = {};\n  }\n  chroma.scales.cool = function () {\n    return chroma.scale([chroma.hsl(180, 1, .9), chroma.hsl(250, .7, .4)]);\n  };\n  chroma.scales.hot = function () {\n    return chroma.scale(['#000', '#f00', '#ff0', '#fff'], [0, .25, .75, 1]).mode('rgb');\n  };\n  chroma.analyze = function (data, key, filter) {\n    var add, k, len, o, r, val, visit;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    if (filter == null) {\n      filter = function () {\n        return true;\n      };\n    }\n    add = function (val) {\n      if (val != null && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    };\n    visit = function (val, k) {\n      if (filter(val, k)) {\n        if (key != null && type(key) === 'function') {\n          return add(key(val));\n        } else if (key != null && type(key) === 'string' || type(key) === 'number') {\n          return add(val[key]);\n        } else {\n          return add(val);\n        }\n      }\n    };\n    if (type(data) === 'array') {\n      for (o = 0, len = data.length; o < len; o++) {\n        val = data[o];\n        visit(val);\n      }\n    } else {\n      for (k in data) {\n        val = data[k];\n        visit(val, k);\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function (mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n  chroma.limits = function (data, mode, num) {\n    var aa, ab, ac, ad, ae, af, ag, ah, ai, aj, ak, al, am, assignments, best, centroids, cluster, clusterSizes, dist, i, j, kClusters, limits, max_log, min, min_log, mindist, n, nb_iters, newCentroids, o, p, pb, pr, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, repeat, sum, tmpKMeansBreaks, v, value, values, w;\n    if (mode == null) {\n      mode = 'equal';\n    }\n    if (num == null) {\n      num = 7;\n    }\n    if (type(data) === 'array') {\n      data = chroma.analyze(data);\n    }\n    min = data.min;\n    max = data.max;\n    sum = data.sum;\n    values = data.values.sort(function (a, b) {\n      return a - b;\n    });\n    if (num === 1) {\n      return [min, max];\n    }\n    limits = [];\n    if (mode.substr(0, 1) === 'c') {\n      limits.push(min);\n      limits.push(max);\n    }\n    if (mode.substr(0, 1) === 'e') {\n      limits.push(min);\n      for (i = o = 1, ref = num - 1; 1 <= ref ? o <= ref : o >= ref; i = 1 <= ref ? ++o : --o) {\n        limits.push(min + i / num * (max - min));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'l') {\n      if (min <= 0) {\n        throw 'Logarithmic scales are only possible for values > 0';\n      }\n      min_log = Math.LOG10E * log(min);\n      max_log = Math.LOG10E * log(max);\n      limits.push(min);\n      for (i = w = 1, ref1 = num - 1; 1 <= ref1 ? w <= ref1 : w >= ref1; i = 1 <= ref1 ? ++w : --w) {\n        limits.push(pow(10, min_log + i / num * (max_log - min_log)));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'q') {\n      limits.push(min);\n      for (i = aa = 1, ref2 = num - 1; 1 <= ref2 ? aa <= ref2 : aa >= ref2; i = 1 <= ref2 ? ++aa : --aa) {\n        p = (values.length - 1) * i / num;\n        pb = floor(p);\n        if (pb === p) {\n          limits.push(values[pb]);\n        } else {\n          pr = p - pb;\n          limits.push(values[pb] * (1 - pr) + values[pb + 1] * pr);\n        }\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'k') {\n      /*\n      implementation based on\n      http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n      simplified for 1-d input values\n       */\n      n = values.length;\n      assignments = new Array(n);\n      clusterSizes = new Array(num);\n      repeat = true;\n      nb_iters = 0;\n      centroids = null;\n      centroids = [];\n      centroids.push(min);\n      for (i = ab = 1, ref3 = num - 1; 1 <= ref3 ? ab <= ref3 : ab >= ref3; i = 1 <= ref3 ? ++ab : --ab) {\n        centroids.push(min + i / num * (max - min));\n      }\n      centroids.push(max);\n      while (repeat) {\n        for (j = ac = 0, ref4 = num - 1; 0 <= ref4 ? ac <= ref4 : ac >= ref4; j = 0 <= ref4 ? ++ac : --ac) {\n          clusterSizes[j] = 0;\n        }\n        for (i = ad = 0, ref5 = n - 1; 0 <= ref5 ? ad <= ref5 : ad >= ref5; i = 0 <= ref5 ? ++ad : --ad) {\n          value = values[i];\n          mindist = Number.MAX_VALUE;\n          for (j = ae = 0, ref6 = num - 1; 0 <= ref6 ? ae <= ref6 : ae >= ref6; j = 0 <= ref6 ? ++ae : --ae) {\n            dist = abs(centroids[j] - value);\n            if (dist < mindist) {\n              mindist = dist;\n              best = j;\n            }\n          }\n          clusterSizes[best]++;\n          assignments[i] = best;\n        }\n        newCentroids = new Array(num);\n        for (j = af = 0, ref7 = num - 1; 0 <= ref7 ? af <= ref7 : af >= ref7; j = 0 <= ref7 ? ++af : --af) {\n          newCentroids[j] = null;\n        }\n        for (i = ag = 0, ref8 = n - 1; 0 <= ref8 ? ag <= ref8 : ag >= ref8; i = 0 <= ref8 ? ++ag : --ag) {\n          cluster = assignments[i];\n          if (newCentroids[cluster] === null) {\n            newCentroids[cluster] = values[i];\n          } else {\n            newCentroids[cluster] += values[i];\n          }\n        }\n        for (j = ah = 0, ref9 = num - 1; 0 <= ref9 ? ah <= ref9 : ah >= ref9; j = 0 <= ref9 ? ++ah : --ah) {\n          newCentroids[j] *= 1 / clusterSizes[j];\n        }\n        repeat = false;\n        for (j = ai = 0, ref10 = num - 1; 0 <= ref10 ? ai <= ref10 : ai >= ref10; j = 0 <= ref10 ? ++ai : --ai) {\n          if (newCentroids[j] !== centroids[i]) {\n            repeat = true;\n            break;\n          }\n        }\n        centroids = newCentroids;\n        nb_iters++;\n        if (nb_iters > 200) {\n          repeat = false;\n        }\n      }\n      kClusters = {};\n      for (j = aj = 0, ref11 = num - 1; 0 <= ref11 ? aj <= ref11 : aj >= ref11; j = 0 <= ref11 ? ++aj : --aj) {\n        kClusters[j] = [];\n      }\n      for (i = ak = 0, ref12 = n - 1; 0 <= ref12 ? ak <= ref12 : ak >= ref12; i = 0 <= ref12 ? ++ak : --ak) {\n        cluster = assignments[i];\n        kClusters[cluster].push(values[i]);\n      }\n      tmpKMeansBreaks = [];\n      for (j = al = 0, ref13 = num - 1; 0 <= ref13 ? al <= ref13 : al >= ref13; j = 0 <= ref13 ? ++al : --al) {\n        tmpKMeansBreaks.push(kClusters[j][0]);\n        tmpKMeansBreaks.push(kClusters[j][kClusters[j].length - 1]);\n      }\n      tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a, b) {\n        return a - b;\n      });\n      limits.push(tmpKMeansBreaks[0]);\n      for (i = am = 1, ref14 = tmpKMeansBreaks.length - 1; am <= ref14; i = am += 2) {\n        v = tmpKMeansBreaks[i];\n        if (!isNaN(v) && limits.indexOf(v) === -1) {\n          limits.push(v);\n        }\n      }\n    }\n    return limits;\n  };\n  hsi2rgb = function (h, s, i) {\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n     */\n    var args, b, g, r;\n    args = unpack(arguments);\n    h = args[0], s = args[1], i = args[2];\n    if (isNaN(h)) {\n      h = 0;\n    }\n    h /= 360;\n    if (h < 1 / 3) {\n      b = (1 - s) / 3;\n      r = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      g = 1 - (b + r);\n    } else if (h < 2 / 3) {\n      h -= 1 / 3;\n      r = (1 - s) / 3;\n      g = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      b = 1 - (r + g);\n    } else {\n      h -= 2 / 3;\n      g = (1 - s) / 3;\n      b = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      r = 1 - (g + b);\n    }\n    r = limit(i * r * 3);\n    g = limit(i * g * 3);\n    b = limit(i * b * 3);\n    return [r * 255, g * 255, b * 255, args.length > 3 ? args[3] : 1];\n  };\n  rgb2hsi = function () {\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n     */\n    var b, g, h, i, min, r, ref, s;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    TWOPI = Math.PI * 2;\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    i = (r + g + b) / 3;\n    s = 1 - min / i;\n    if (s === 0) {\n      h = 0;\n    } else {\n      h = (r - g + (r - b)) / 2;\n      h /= Math.sqrt((r - g) * (r - g) + (r - b) * (g - b));\n      h = Math.acos(h);\n      if (b > g) {\n        h = TWOPI - h;\n      }\n      h /= TWOPI;\n    }\n    return [h * 360, s, i];\n  };\n  chroma.hsi = function () {\n    return function (func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor(),\n        result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    }(Color, slice.call(arguments).concat(['hsi']), function () {});\n  };\n  _input.hsi = hsi2rgb;\n  Color.prototype.hsi = function () {\n    return rgb2hsi(this._rgb);\n  };\n  interpolate_hsx = function (col1, col2, f, m) {\n    var dh, hue, hue0, hue1, lbv, lbv0, lbv1, res, sat, sat0, sat1, xyz0, xyz1;\n    if (m === 'hsl') {\n      xyz0 = col1.hsl();\n      xyz1 = col2.hsl();\n    } else if (m === 'hsv') {\n      xyz0 = col1.hsv();\n      xyz1 = col2.hsv();\n    } else if (m === 'hcg') {\n      xyz0 = col1.hcg();\n      xyz1 = col2.hcg();\n    } else if (m === 'hsi') {\n      xyz0 = col1.hsi();\n      xyz1 = col2.hsi();\n    } else if (m === 'lch' || m === 'hcl') {\n      m = 'hcl';\n      xyz0 = col1.hcl();\n      xyz1 = col2.hcl();\n    }\n    if (m.substr(0, 1) === 'h') {\n      hue0 = xyz0[0], sat0 = xyz0[1], lbv0 = xyz0[2];\n      hue1 = xyz1[0], sat1 = xyz1[1], lbv1 = xyz1[2];\n    }\n    if (!isNaN(hue0) && !isNaN(hue1)) {\n      if (hue1 > hue0 && hue1 - hue0 > 180) {\n        dh = hue1 - (hue0 + 360);\n      } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n        dh = hue1 + 360 - hue0;\n      } else {\n        dh = hue1 - hue0;\n      }\n      hue = hue0 + f * dh;\n    } else if (!isNaN(hue0)) {\n      hue = hue0;\n      if ((lbv1 === 1 || lbv1 === 0) && m !== 'hsv') {\n        sat = sat0;\n      }\n    } else if (!isNaN(hue1)) {\n      hue = hue1;\n      if ((lbv0 === 1 || lbv0 === 0) && m !== 'hsv') {\n        sat = sat1;\n      }\n    } else {\n      hue = Number.NaN;\n    }\n    if (sat == null) {\n      sat = sat0 + f * (sat1 - sat0);\n    }\n    lbv = lbv0 + f * (lbv1 - lbv0);\n    return res = chroma[m](hue, sat, lbv);\n  };\n  _interpolators = _interpolators.concat(function () {\n    var len, o, ref, results;\n    ref = ['hsv', 'hsl', 'hsi', 'hcl', 'lch', 'hcg'];\n    results = [];\n    for (o = 0, len = ref.length; o < len; o++) {\n      m = ref[o];\n      results.push([m, interpolate_hsx]);\n    }\n    return results;\n  }());\n  interpolate_num = function (col1, col2, f, m) {\n    var n1, n2;\n    n1 = col1.num();\n    n2 = col2.num();\n    return chroma.num(n1 + (n2 - n1) * f, 'num');\n  };\n  _interpolators.push(['num', interpolate_num]);\n  interpolate_lab = function (col1, col2, f, m) {\n    var res, xyz0, xyz1;\n    xyz0 = col1.lab();\n    xyz1 = col2.lab();\n    return res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n  _interpolators.push(['lab', interpolate_lab]);\n}).call(this);","map":{"version":3,"names":["Color","DEG2RAD","LAB_CONSTANTS","PI","PITHIRD","RAD2DEG","TWOPI","_average_lrgb","_guess_formats","_guess_formats_sorted","_input","_interpolators","abs","atan2","bezier","blend","blend_f","brewer","burn","chroma","clip_rgb","cmyk2rgb","colors","cos","css2rgb","darken","dodge","each","floor","hcg2rgb","hex2rgb","hsi2rgb","hsl2css","hsl2rgb","hsv2rgb","interpolate","interpolate_hsx","interpolate_lab","interpolate_lrgb","interpolate_num","interpolate_rgb","lab2lch","lab2rgb","lab_xyz","lch2lab","lch2rgb","lighten","limit","log","luminance_x","m","max","multiply","normal","num2rgb","overlay","pow","rgb2cmyk","rgb2css","rgb2hcg","rgb2hex","rgb2hsi","rgb2hsl","rgb2hsv","rgb2lab","rgb2lch","rgb2luminance","rgb2num","rgb2temperature","rgb2xyz","rgb_xyz","rnd","root","round","screen","sin","sqrt","temperature2rgb","type","unpack","w3cx11","xyz_lab","xyz_rgb","slice","classToType","len","name","o","ref","split","length","toLowerCase","obj","strType","Object","prototype","toString","call","x","min","args","Array","rgb","i","_clipped","_unclipped","Math","arguments","func","ctor","child","result","apply","module","exports","define","amd","version","arg","chk","len1","me","mode","w","push","_rgb","sort","a","b","p","test","console","warn","hex","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","key","results","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflower","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","laserlemon","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrod","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","maroon2","maroon3","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","purple2","purple3","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","g","l","r","y","z","isNaN","Yn","Xn","Zn","t","t1","t2","t0","Kn","t3","ref1","lab","concat","I","I0","I1","c","lab0","lab1","lab2","lab3","ref2","f","scale","cubehelix","start","rotations","hue","gamma","lightness","dh","dl","fract","amp","cos_a","h","sin_a","s","random","code","digits","charAt","col1","col2","interpol","res","alpha","mix","k","v","map","rgba","n","lrgb","xyz0","xyz1","col","xyz","average","A","cnt","dx","dy","first","xyz2","splice","get","u","match","substr","parseInt","css","channels","hxa","str","Number","NaN","hsl","q","ref3","ref4","ref5","delta","hsv","num","_c","_g","hcg","aa","ab","join","named","L","lch","hcl","reverse","cmyk","gl","luminance","lum","cur_lum","eps","max_iter","lm","kelvin","temp","maxTemp","minTemp","temperature","K","contrast","l1","l2","distance","d","sum_sq","deltaE","C","L1","L2","a1","a2","b1","b2","c1","c2","c4","dH2","delA","delB","delC","delL","h1","sc","sh","sl","v1","v2","v3","modechan","channel","src","indexOf","set","value","clipped","amount","brighten","darker","brighter","saturate","desaturate","premultiply","bottom","top","c0","out","analyze","data","val","MAX_VALUE","sum","values","count","domain","limits","positions","_classes","_colorCache","_colors","_correctLightness","_domain","_fixed","_gamma","_max","_min","_mode","_nacol","_out","_padding","_pos","_spread","_useCache","classifyValue","getClass","getColor","resetCache","setColors","tmap","maxc","minc","bypassMap","classes","_m","range","_o","spread","correctLightness","L0","L_actual","L_diff","L_ideal","pol","padding","numColors","dd","dm","samples","cache","nodata","scales","cool","hot","filter","add","visit","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","assignments","best","centroids","cluster","clusterSizes","dist","j","kClusters","max_log","min_log","mindist","nb_iters","newCentroids","pb","pr","ref10","ref11","ref12","ref13","ref14","ref6","ref7","ref8","ref9","repeat","tmpKMeansBreaks","LOG10E","acos","hsi","hue0","hue1","lbv","lbv0","lbv1","sat","sat0","sat1","n1","n2"],"sources":["/Users/samsadrazodi/Desktop/Bootcamp/41_React_Router/41.2_React-Router_Patterns/exercise/color-factory/node_modules/chroma-js/chroma.js"],"sourcesContent":["\n/**\n * @license\n *\n * chroma.js - JavaScript library for color conversions\n * \n * Copyright (c) 2011-2017, Gregor Aisch\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n * \n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * \n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n * \n * 3. The name Gregor Aisch may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\n\n(function() {\n  var Color, DEG2RAD, LAB_CONSTANTS, PI, PITHIRD, RAD2DEG, TWOPI, _average_lrgb, _guess_formats, _guess_formats_sorted, _input, _interpolators, abs, atan2, bezier, blend, blend_f, brewer, burn, chroma, clip_rgb, cmyk2rgb, colors, cos, css2rgb, darken, dodge, each, floor, hcg2rgb, hex2rgb, hsi2rgb, hsl2css, hsl2rgb, hsv2rgb, interpolate, interpolate_hsx, interpolate_lab, interpolate_lrgb, interpolate_num, interpolate_rgb, lab2lch, lab2rgb, lab_xyz, lch2lab, lch2rgb, lighten, limit, log, luminance_x, m, max, multiply, normal, num2rgb, overlay, pow, rgb2cmyk, rgb2css, rgb2hcg, rgb2hex, rgb2hsi, rgb2hsl, rgb2hsv, rgb2lab, rgb2lch, rgb2luminance, rgb2num, rgb2temperature, rgb2xyz, rgb_xyz, rnd, root, round, screen, sin, sqrt, temperature2rgb, type, unpack, w3cx11, xyz_lab, xyz_rgb,\n    slice = [].slice;\n\n  type = (function() {\n\n    /*\n    for browser-safe type checking+\n    ported from jQuery's $.type\n     */\n    var classToType, len, name, o, ref;\n    classToType = {};\n    ref = \"Boolean Number String Function Array Date RegExp Undefined Null\".split(\" \");\n    for (o = 0, len = ref.length; o < len; o++) {\n      name = ref[o];\n      classToType[\"[object \" + name + \"]\"] = name.toLowerCase();\n    }\n    return function(obj) {\n      var strType;\n      strType = Object.prototype.toString.call(obj);\n      return classToType[strType] || \"object\";\n    };\n  })();\n\n  limit = function(x, min, max) {\n    if (min == null) {\n      min = 0;\n    }\n    if (max == null) {\n      max = 1;\n    }\n    if (x < min) {\n      x = min;\n    }\n    if (x > max) {\n      x = max;\n    }\n    return x;\n  };\n\n  unpack = function(args) {\n    if (args.length >= 3) {\n      return Array.prototype.slice.call(args);\n    } else {\n      return args[0];\n    }\n  };\n\n  clip_rgb = function(rgb) {\n    var i, o;\n    rgb._clipped = false;\n    rgb._unclipped = rgb.slice(0);\n    for (i = o = 0; o < 3; i = ++o) {\n      if (i < 3) {\n        if (rgb[i] < 0 || rgb[i] > 255) {\n          rgb._clipped = true;\n        }\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 255) {\n          rgb[i] = 255;\n        }\n      } else if (i === 3) {\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 1) {\n          rgb[i] = 1;\n        }\n      }\n    }\n    if (!rgb._clipped) {\n      delete rgb._unclipped;\n    }\n    return rgb;\n  };\n\n  PI = Math.PI, round = Math.round, cos = Math.cos, floor = Math.floor, pow = Math.pow, log = Math.log, sin = Math.sin, sqrt = Math.sqrt, atan2 = Math.atan2, max = Math.max, abs = Math.abs;\n\n  TWOPI = PI * 2;\n\n  PITHIRD = PI / 3;\n\n  DEG2RAD = PI / 180;\n\n  RAD2DEG = 180 / PI;\n\n  chroma = function() {\n    if (arguments[0] instanceof Color) {\n      return arguments[0];\n    }\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, arguments, function(){});\n  };\n\n  chroma[\"default\"] = chroma;\n\n  _interpolators = [];\n\n  if ((typeof module !== \"undefined\" && module !== null) && (module.exports != null)) {\n    module.exports = chroma;\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return chroma;\n    });\n  } else {\n    root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\n    root.chroma = chroma;\n  }\n\n  chroma.version = '1.4.1';\n\n  _input = {};\n\n  _guess_formats = [];\n\n  _guess_formats_sorted = false;\n\n  Color = (function() {\n    function Color() {\n      var arg, args, chk, len, len1, me, mode, o, w;\n      me = this;\n      args = [];\n      for (o = 0, len = arguments.length; o < len; o++) {\n        arg = arguments[o];\n        if (arg != null) {\n          args.push(arg);\n        }\n      }\n      if (args.length > 1) {\n        mode = args[args.length - 1];\n      }\n      if (_input[mode] != null) {\n        me._rgb = clip_rgb(_input[mode](unpack(args.slice(0, -1))));\n      } else {\n        if (!_guess_formats_sorted) {\n          _guess_formats = _guess_formats.sort(function(a, b) {\n            return b.p - a.p;\n          });\n          _guess_formats_sorted = true;\n        }\n        for (w = 0, len1 = _guess_formats.length; w < len1; w++) {\n          chk = _guess_formats[w];\n          mode = chk.test.apply(chk, args);\n          if (mode) {\n            break;\n          }\n        }\n        if (mode) {\n          me._rgb = clip_rgb(_input[mode].apply(_input, args));\n        }\n      }\n      if (me._rgb == null) {\n        console.warn('unknown format: ' + args);\n      }\n      if (me._rgb == null) {\n        me._rgb = [0, 0, 0];\n      }\n      if (me._rgb.length === 3) {\n        me._rgb.push(1);\n      }\n    }\n\n    Color.prototype.toString = function() {\n      return this.hex();\n    };\n\n    return Color;\n\n  })();\n\n  chroma._input = _input;\n\n\n  /**\n  \tColorBrewer colors for chroma.js\n  \n  \tCopyright (c) 2002 Cynthia Brewer, Mark Harrower, and The \n  \tPennsylvania State University.\n  \n  \tLicensed under the Apache License, Version 2.0 (the \"License\"); \n  \tyou may not use this file except in compliance with the License.\n  \tYou may obtain a copy of the License at\t\n  \thttp://www.apache.org/licenses/LICENSE-2.0\n  \n  \tUnless required by applicable law or agreed to in writing, software distributed\n  \tunder the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n  \tCONDITIONS OF ANY KIND, either express or implied. See the License for the\n  \tspecific language governing permissions and limitations under the License.\n  \n      @preserve\n   */\n\n  chroma.brewer = brewer = {\n    OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n    PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n    BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n    Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n    BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n    YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n    YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n    Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n    RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n    Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n    YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n    Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n    GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n    Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n    YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n    PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n    Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n    PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n    Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n    Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n    RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n    RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n    PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n    PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n    RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n    BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n    RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n    PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n    Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n    Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n    Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n    Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n    Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n    Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n    Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n    Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2']\n  };\n\n  (function() {\n    var key, results;\n    results = [];\n    for (key in brewer) {\n      results.push(brewer[key.toLowerCase()] = brewer[key]);\n    }\n    return results;\n  })();\n\n\n  /**\n  \tX11 color names\n  \n  \thttp://www.w3.org/TR/css3-color/#svg-color\n   */\n\n  w3cx11 = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflower: '#6495ed',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    gold: '#ffd700',\n    goldenrod: '#daa520',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    laserlemon: '#ffff54',\n    lavender: '#e6e6fa',\n    lavenderblush: '#fff0f5',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrod: '#fafad2',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    maroon2: '#7f0000',\n    maroon3: '#b03060',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    purple2: '#7f007f',\n    purple3: '#a020f0',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32'\n  };\n\n  chroma.colors = colors = w3cx11;\n\n  lab2rgb = function() {\n    var a, args, b, g, l, r, x, y, z;\n    args = unpack(arguments);\n    l = args[0], a = args[1], b = args[2];\n    y = (l + 16) / 116;\n    x = isNaN(a) ? y : y + a / 500;\n    z = isNaN(b) ? y : y - b / 200;\n    y = LAB_CONSTANTS.Yn * lab_xyz(y);\n    x = LAB_CONSTANTS.Xn * lab_xyz(x);\n    z = LAB_CONSTANTS.Zn * lab_xyz(z);\n    r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);\n    g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n    b = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  xyz_rgb = function(r) {\n    return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow(r, 1 / 2.4) - 0.055);\n  };\n\n  lab_xyz = function(t) {\n    if (t > LAB_CONSTANTS.t1) {\n      return t * t * t;\n    } else {\n      return LAB_CONSTANTS.t2 * (t - LAB_CONSTANTS.t0);\n    }\n  };\n\n  LAB_CONSTANTS = {\n    Kn: 18,\n    Xn: 0.950470,\n    Yn: 1,\n    Zn: 1.088830,\n    t0: 0.137931034,\n    t1: 0.206896552,\n    t2: 0.12841855,\n    t3: 0.008856452\n  };\n\n  rgb2lab = function() {\n    var b, g, r, ref, ref1, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2xyz(r, g, b), x = ref1[0], y = ref1[1], z = ref1[2];\n    return [116 * y - 16, 500 * (x - y), 200 * (y - z)];\n  };\n\n  rgb_xyz = function(r) {\n    if ((r /= 255) <= 0.04045) {\n      return r / 12.92;\n    } else {\n      return pow((r + 0.055) / 1.055, 2.4);\n    }\n  };\n\n  xyz_lab = function(t) {\n    if (t > LAB_CONSTANTS.t3) {\n      return pow(t, 1 / 3);\n    } else {\n      return t / LAB_CONSTANTS.t2 + LAB_CONSTANTS.t0;\n    }\n  };\n\n  rgb2xyz = function() {\n    var b, g, r, ref, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = rgb_xyz(r);\n    g = rgb_xyz(g);\n    b = rgb_xyz(b);\n    x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS.Xn);\n    y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS.Yn);\n    z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS.Zn);\n    return [x, y, z];\n  };\n\n  chroma.lab = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['lab']), function(){});\n  };\n\n  _input.lab = lab2rgb;\n\n  Color.prototype.lab = function() {\n    return rgb2lab(this._rgb);\n  };\n\n  bezier = function(colors) {\n    var I, I0, I1, c, lab0, lab1, lab2, lab3, ref, ref1, ref2;\n    colors = (function() {\n      var len, o, results;\n      results = [];\n      for (o = 0, len = colors.length; o < len; o++) {\n        c = colors[o];\n        results.push(chroma(c));\n      }\n      return results;\n    })();\n    if (colors.length === 2) {\n      ref = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref[0], lab1 = ref[1];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push(lab0[i] + t * (lab1[i] - lab0[i]));\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 3) {\n      ref1 = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref1[0], lab1 = ref1[1], lab2 = ref1[2];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i]);\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 4) {\n      ref2 = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref2[0], lab1 = ref2[1], lab2 = ref2[2], lab3 = ref2[3];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i]);\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 5) {\n      I0 = bezier(colors.slice(0, 3));\n      I1 = bezier(colors.slice(2, 5));\n      I = function(t) {\n        if (t < 0.5) {\n          return I0(t * 2);\n        } else {\n          return I1((t - 0.5) * 2);\n        }\n      };\n    }\n    return I;\n  };\n\n  chroma.bezier = function(colors) {\n    var f;\n    f = bezier(colors);\n    f.scale = function() {\n      return chroma.scale(f);\n    };\n    return f;\n  };\n\n  chroma.cubehelix = function(start, rotations, hue, gamma, lightness) {\n    var dh, dl, f;\n    if (start == null) {\n      start = 300;\n    }\n    if (rotations == null) {\n      rotations = -1.5;\n    }\n    if (hue == null) {\n      hue = 1;\n    }\n    if (gamma == null) {\n      gamma = 1;\n    }\n    if (lightness == null) {\n      lightness = [0, 1];\n    }\n    dh = 0;\n    if (type(lightness) === 'array') {\n      dl = lightness[1] - lightness[0];\n    } else {\n      dl = 0;\n      lightness = [lightness, lightness];\n    }\n    f = function(fract) {\n      var a, amp, b, cos_a, g, h, l, r, sin_a;\n      a = TWOPI * ((start + 120) / 360 + rotations * fract);\n      l = pow(lightness[0] + dl * fract, gamma);\n      h = dh !== 0 ? hue[0] + fract * dh : hue;\n      amp = h * l * (1 - l) / 2;\n      cos_a = cos(a);\n      sin_a = sin(a);\n      r = l + amp * (-0.14861 * cos_a + 1.78277 * sin_a);\n      g = l + amp * (-0.29227 * cos_a - 0.90649 * sin_a);\n      b = l + amp * (+1.97294 * cos_a);\n      return chroma(clip_rgb([r * 255, g * 255, b * 255, 1]));\n    };\n    f.start = function(s) {\n      if (s == null) {\n        return start;\n      }\n      start = s;\n      return f;\n    };\n    f.rotations = function(r) {\n      if (r == null) {\n        return rotations;\n      }\n      rotations = r;\n      return f;\n    };\n    f.gamma = function(g) {\n      if (g == null) {\n        return gamma;\n      }\n      gamma = g;\n      return f;\n    };\n    f.hue = function(h) {\n      if (h == null) {\n        return hue;\n      }\n      hue = h;\n      if (type(hue) === 'array') {\n        dh = hue[1] - hue[0];\n        if (dh === 0) {\n          hue = hue[1];\n        }\n      } else {\n        dh = 0;\n      }\n      return f;\n    };\n    f.lightness = function(h) {\n      if (h == null) {\n        return lightness;\n      }\n      if (type(h) === 'array') {\n        lightness = h;\n        dl = h[1] - h[0];\n      } else {\n        lightness = [h, h];\n        dl = 0;\n      }\n      return f;\n    };\n    f.scale = function() {\n      return chroma.scale(f);\n    };\n    f.hue(hue);\n    return f;\n  };\n\n  chroma.random = function() {\n    var code, digits, i, o;\n    digits = '0123456789abcdef';\n    code = '#';\n    for (i = o = 0; o < 6; i = ++o) {\n      code += digits.charAt(floor(Math.random() * 16));\n    }\n    return new Color(code);\n  };\n\n  _interpolators = [];\n\n  interpolate = function(col1, col2, f, m) {\n    var interpol, len, o, res;\n    if (f == null) {\n      f = 0.5;\n    }\n    if (m == null) {\n      m = 'rgb';\n    }\n\n    /*\n    interpolates between colors\n    f = 0 --> me\n    f = 1 --> col\n     */\n    if (type(col1) !== 'object') {\n      col1 = chroma(col1);\n    }\n    if (type(col2) !== 'object') {\n      col2 = chroma(col2);\n    }\n    for (o = 0, len = _interpolators.length; o < len; o++) {\n      interpol = _interpolators[o];\n      if (m === interpol[0]) {\n        res = interpol[1](col1, col2, f, m);\n        break;\n      }\n    }\n    if (res == null) {\n      throw \"color mode \" + m + \" is not supported\";\n    }\n    return res.alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n  };\n\n  chroma.interpolate = interpolate;\n\n  Color.prototype.interpolate = function(col2, f, m) {\n    return interpolate(this, col2, f, m);\n  };\n\n  chroma.mix = interpolate;\n\n  Color.prototype.mix = Color.prototype.interpolate;\n\n  _input.rgb = function() {\n    var k, ref, results, v;\n    ref = unpack(arguments);\n    results = [];\n    for (k in ref) {\n      v = ref[k];\n      results.push(v);\n    }\n    return results;\n  };\n\n  chroma.rgb = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['rgb']), function(){});\n  };\n\n  Color.prototype.rgb = function(round) {\n    if (round == null) {\n      round = true;\n    }\n    if (round) {\n      return this._rgb.map(Math.round).slice(0, 3);\n    } else {\n      return this._rgb.slice(0, 3);\n    }\n  };\n\n  Color.prototype.rgba = function(round) {\n    if (round == null) {\n      round = true;\n    }\n    if (!round) {\n      return this._rgb.slice(0);\n    }\n    return [Math.round(this._rgb[0]), Math.round(this._rgb[1]), Math.round(this._rgb[2]), this._rgb[3]];\n  };\n\n  _guess_formats.push({\n    p: 3,\n    test: function(n) {\n      var a;\n      a = unpack(arguments);\n      if (type(a) === 'array' && a.length === 3) {\n        return 'rgb';\n      }\n      if (a.length === 4 && type(a[3]) === \"number\" && a[3] >= 0 && a[3] <= 1) {\n        return 'rgb';\n      }\n    }\n  });\n\n  _input.lrgb = _input.rgb;\n\n  interpolate_lrgb = function(col1, col2, f, m) {\n    var xyz0, xyz1;\n    xyz0 = col1._rgb;\n    xyz1 = col2._rgb;\n    return new Color(sqrt(pow(xyz0[0], 2) * (1 - f) + pow(xyz1[0], 2) * f), sqrt(pow(xyz0[1], 2) * (1 - f) + pow(xyz1[1], 2) * f), sqrt(pow(xyz0[2], 2) * (1 - f) + pow(xyz1[2], 2) * f), m);\n  };\n\n  _average_lrgb = function(colors) {\n    var col, f, len, o, rgb, xyz;\n    f = 1 / colors.length;\n    xyz = [0, 0, 0, 0];\n    for (o = 0, len = colors.length; o < len; o++) {\n      col = colors[o];\n      rgb = col._rgb;\n      xyz[0] += pow(rgb[0], 2) * f;\n      xyz[1] += pow(rgb[1], 2) * f;\n      xyz[2] += pow(rgb[2], 2) * f;\n      xyz[3] += rgb[3] * f;\n    }\n    xyz[0] = sqrt(xyz[0]);\n    xyz[1] = sqrt(xyz[1]);\n    xyz[2] = sqrt(xyz[2]);\n    if (xyz[3] > 1) {\n      xyz[3] = 1;\n    }\n    return new Color(clip_rgb(xyz));\n  };\n\n  _interpolators.push(['lrgb', interpolate_lrgb]);\n\n  chroma.average = function(colors, mode) {\n    var A, alpha, c, cnt, dx, dy, first, i, l, len, o, xyz, xyz2;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    l = colors.length;\n    colors = colors.map(function(c) {\n      return chroma(c);\n    });\n    first = colors.splice(0, 1)[0];\n    if (mode === 'lrgb') {\n      return _average_lrgb(colors);\n    }\n    xyz = first.get(mode);\n    cnt = [];\n    dx = 0;\n    dy = 0;\n    for (i in xyz) {\n      xyz[i] = xyz[i] || 0;\n      cnt.push(isNaN(xyz[i]) ? 0 : 1);\n      if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n        A = xyz[i] / 180 * PI;\n        dx += cos(A);\n        dy += sin(A);\n      }\n    }\n    alpha = first.alpha();\n    for (o = 0, len = colors.length; o < len; o++) {\n      c = colors[o];\n      xyz2 = c.get(mode);\n      alpha += c.alpha();\n      for (i in xyz) {\n        if (!isNaN(xyz2[i])) {\n          cnt[i] += 1;\n          if (mode.charAt(i) === 'h') {\n            A = xyz2[i] / 180 * PI;\n            dx += cos(A);\n            dy += sin(A);\n          } else {\n            xyz[i] += xyz2[i];\n          }\n        }\n      }\n    }\n    for (i in xyz) {\n      if (mode.charAt(i) === 'h') {\n        A = atan2(dy / cnt[i], dx / cnt[i]) / PI * 180;\n        while (A < 0) {\n          A += 360;\n        }\n        while (A >= 360) {\n          A -= 360;\n        }\n        xyz[i] = A;\n      } else {\n        xyz[i] = xyz[i] / cnt[i];\n      }\n    }\n    return chroma(xyz, mode).alpha(alpha / l);\n  };\n\n  hex2rgb = function(hex) {\n    var a, b, g, r, rgb, u;\n    if (hex.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {\n      if (hex.length === 4 || hex.length === 7) {\n        hex = hex.substr(1);\n      }\n      if (hex.length === 3) {\n        hex = hex.split(\"\");\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n      }\n      u = parseInt(hex, 16);\n      r = u >> 16;\n      g = u >> 8 & 0xFF;\n      b = u & 0xFF;\n      return [r, g, b, 1];\n    }\n    if (hex.match(/^#?([A-Fa-f0-9]{8})$/)) {\n      if (hex.length === 9) {\n        hex = hex.substr(1);\n      }\n      u = parseInt(hex, 16);\n      r = u >> 24 & 0xFF;\n      g = u >> 16 & 0xFF;\n      b = u >> 8 & 0xFF;\n      a = round((u & 0xFF) / 0xFF * 100) / 100;\n      return [r, g, b, a];\n    }\n    if ((_input.css != null) && (rgb = _input.css(hex))) {\n      return rgb;\n    }\n    throw \"unknown color: \" + hex;\n  };\n\n  rgb2hex = function(channels, mode) {\n    var a, b, g, hxa, r, str, u;\n    if (mode == null) {\n      mode = 'auto';\n    }\n    r = channels[0], g = channels[1], b = channels[2], a = channels[3];\n    if (mode === 'auto') {\n      mode = a < 1 ? 'rgba' : 'rgb';\n    }\n    r = Math.round(r);\n    g = Math.round(g);\n    b = Math.round(b);\n    u = r << 16 | g << 8 | b;\n    str = \"000000\" + u.toString(16);\n    str = str.substr(str.length - 6);\n    hxa = '0' + round(a * 255).toString(16);\n    hxa = hxa.substr(hxa.length - 2);\n    return \"#\" + (function() {\n      switch (mode.toLowerCase()) {\n        case 'rgba':\n          return str + hxa;\n        case 'argb':\n          return hxa + str;\n        default:\n          return str;\n      }\n    })();\n  };\n\n  _input.hex = function(h) {\n    return hex2rgb(h);\n  };\n\n  chroma.hex = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hex']), function(){});\n  };\n\n  Color.prototype.hex = function(mode) {\n    if (mode == null) {\n      mode = 'auto';\n    }\n    return rgb2hex(this._rgb, mode);\n  };\n\n  _guess_formats.push({\n    p: 4,\n    test: function(n) {\n      if (arguments.length === 1 && type(n) === \"string\") {\n        return 'hex';\n      }\n    }\n  });\n\n  hsl2rgb = function() {\n    var args, b, c, g, h, i, l, o, r, ref, s, t1, t2, t3;\n    args = unpack(arguments);\n    h = args[0], s = args[1], l = args[2];\n    if (s === 0) {\n      r = g = b = l * 255;\n    } else {\n      t3 = [0, 0, 0];\n      c = [0, 0, 0];\n      t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      t1 = 2 * l - t2;\n      h /= 360;\n      t3[0] = h + 1 / 3;\n      t3[1] = h;\n      t3[2] = h - 1 / 3;\n      for (i = o = 0; o <= 2; i = ++o) {\n        if (t3[i] < 0) {\n          t3[i] += 1;\n        }\n        if (t3[i] > 1) {\n          t3[i] -= 1;\n        }\n        if (6 * t3[i] < 1) {\n          c[i] = t1 + (t2 - t1) * 6 * t3[i];\n        } else if (2 * t3[i] < 1) {\n          c[i] = t2;\n        } else if (3 * t3[i] < 2) {\n          c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6;\n        } else {\n          c[i] = t1;\n        }\n      }\n      ref = [round(c[0] * 255), round(c[1] * 255), round(c[2] * 255)], r = ref[0], g = ref[1], b = ref[2];\n    }\n    if (args.length > 3) {\n      return [r, g, b, args[3]];\n    } else {\n      return [r, g, b];\n    }\n  };\n\n  rgb2hsl = function(r, g, b) {\n    var h, l, min, ref, s;\n    if (r !== void 0 && r.length >= 3) {\n      ref = r, r = ref[0], g = ref[1], b = ref[2];\n    }\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    l = (max + min) / 2;\n    if (max === min) {\n      s = 0;\n      h = Number.NaN;\n    } else {\n      s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n    }\n    if (r === max) {\n      h = (g - b) / (max - min);\n    } else if (g === max) {\n      h = 2 + (b - r) / (max - min);\n    } else if (b === max) {\n      h = 4 + (r - g) / (max - min);\n    }\n    h *= 60;\n    if (h < 0) {\n      h += 360;\n    }\n    return [h, s, l];\n  };\n\n  chroma.hsl = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsl']), function(){});\n  };\n\n  _input.hsl = hsl2rgb;\n\n  Color.prototype.hsl = function() {\n    return rgb2hsl(this._rgb);\n  };\n\n  hsv2rgb = function() {\n    var args, b, f, g, h, i, p, q, r, ref, ref1, ref2, ref3, ref4, ref5, s, t, v;\n    args = unpack(arguments);\n    h = args[0], s = args[1], v = args[2];\n    v *= 255;\n    if (s === 0) {\n      r = g = b = v;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n      if (h > 360) {\n        h -= 360;\n      }\n      if (h < 0) {\n        h += 360;\n      }\n      h /= 60;\n      i = floor(h);\n      f = h - i;\n      p = v * (1 - s);\n      q = v * (1 - s * f);\n      t = v * (1 - s * (1 - f));\n      switch (i) {\n        case 0:\n          ref = [v, t, p], r = ref[0], g = ref[1], b = ref[2];\n          break;\n        case 1:\n          ref1 = [q, v, p], r = ref1[0], g = ref1[1], b = ref1[2];\n          break;\n        case 2:\n          ref2 = [p, v, t], r = ref2[0], g = ref2[1], b = ref2[2];\n          break;\n        case 3:\n          ref3 = [p, q, v], r = ref3[0], g = ref3[1], b = ref3[2];\n          break;\n        case 4:\n          ref4 = [t, p, v], r = ref4[0], g = ref4[1], b = ref4[2];\n          break;\n        case 5:\n          ref5 = [v, p, q], r = ref5[0], g = ref5[1], b = ref5[2];\n      }\n    }\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hsv = function() {\n    var b, delta, g, h, min, r, ref, s, v;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    delta = max - min;\n    v = max / 255.0;\n    if (max === 0) {\n      h = Number.NaN;\n      s = 0;\n    } else {\n      s = delta / max;\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n      h *= 60;\n      if (h < 0) {\n        h += 360;\n      }\n    }\n    return [h, s, v];\n  };\n\n  chroma.hsv = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsv']), function(){});\n  };\n\n  _input.hsv = hsv2rgb;\n\n  Color.prototype.hsv = function() {\n    return rgb2hsv(this._rgb);\n  };\n\n  num2rgb = function(num) {\n    var b, g, r;\n    if (type(num) === \"number\" && num >= 0 && num <= 0xFFFFFF) {\n      r = num >> 16;\n      g = (num >> 8) & 0xFF;\n      b = num & 0xFF;\n      return [r, g, b, 1];\n    }\n    console.warn(\"unknown num color: \" + num);\n    return [0, 0, 0, 1];\n  };\n\n  rgb2num = function() {\n    var b, g, r, ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    return (r << 16) + (g << 8) + b;\n  };\n\n  chroma.num = function(num) {\n    return new Color(num, 'num');\n  };\n\n  Color.prototype.num = function(mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    return rgb2num(this._rgb, mode);\n  };\n\n  _input.num = num2rgb;\n\n  _guess_formats.push({\n    p: 1,\n    test: function(n) {\n      if (arguments.length === 1 && type(n) === \"number\" && n >= 0 && n <= 0xFFFFFF) {\n        return 'num';\n      }\n    }\n  });\n\n  hcg2rgb = function() {\n    var _c, _g, args, b, c, f, g, h, i, p, q, r, ref, ref1, ref2, ref3, ref4, ref5, t, v;\n    args = unpack(arguments);\n    h = args[0], c = args[1], _g = args[2];\n    c = c / 100;\n    g = g / 100 * 255;\n    _c = c * 255;\n    if (c === 0) {\n      r = g = b = _g;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n      if (h > 360) {\n        h -= 360;\n      }\n      if (h < 0) {\n        h += 360;\n      }\n      h /= 60;\n      i = floor(h);\n      f = h - i;\n      p = _g * (1 - c);\n      q = p + _c * (1 - f);\n      t = p + _c * f;\n      v = p + _c;\n      switch (i) {\n        case 0:\n          ref = [v, t, p], r = ref[0], g = ref[1], b = ref[2];\n          break;\n        case 1:\n          ref1 = [q, v, p], r = ref1[0], g = ref1[1], b = ref1[2];\n          break;\n        case 2:\n          ref2 = [p, v, t], r = ref2[0], g = ref2[1], b = ref2[2];\n          break;\n        case 3:\n          ref3 = [p, q, v], r = ref3[0], g = ref3[1], b = ref3[2];\n          break;\n        case 4:\n          ref4 = [t, p, v], r = ref4[0], g = ref4[1], b = ref4[2];\n          break;\n        case 5:\n          ref5 = [v, p, q], r = ref5[0], g = ref5[1], b = ref5[2];\n      }\n    }\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hcg = function() {\n    var _g, b, c, delta, g, h, min, r, ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    delta = max - min;\n    c = delta * 100 / 255;\n    _g = min / (255 - delta) * 100;\n    if (delta === 0) {\n      h = Number.NaN;\n    } else {\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n      h *= 60;\n      if (h < 0) {\n        h += 360;\n      }\n    }\n    return [h, c, _g];\n  };\n\n  chroma.hcg = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hcg']), function(){});\n  };\n\n  _input.hcg = hcg2rgb;\n\n  Color.prototype.hcg = function() {\n    return rgb2hcg(this._rgb);\n  };\n\n  css2rgb = function(css) {\n    var aa, ab, hsl, i, m, o, rgb, w;\n    css = css.toLowerCase();\n    if ((chroma.colors != null) && chroma.colors[css]) {\n      return hex2rgb(chroma.colors[css]);\n    }\n    if (m = css.match(/rgb\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = o = 0; o <= 2; i = ++o) {\n        rgb[i] = +rgb[i];\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = w = 0; w <= 3; i = ++w) {\n        rgb[i] = +rgb[i];\n      }\n    } else if (m = css.match(/rgb\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = aa = 0; aa <= 2; i = ++aa) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = ab = 0; ab <= 2; i = ++ab) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = +rgb[3];\n    } else if (m = css.match(/hsl\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = 1;\n    } else if (m = css.match(/hsla\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = +m[4];\n    }\n    return rgb;\n  };\n\n  rgb2css = function(rgba) {\n    var mode;\n    mode = rgba[3] < 1 ? 'rgba' : 'rgb';\n    if (mode === 'rgb') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ')';\n    } else if (mode === 'rgba') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ',' + rgba[3] + ')';\n    } else {\n\n    }\n  };\n\n  rnd = function(a) {\n    return round(a * 100) / 100;\n  };\n\n  hsl2css = function(hsl, alpha) {\n    var mode;\n    mode = alpha < 1 ? 'hsla' : 'hsl';\n    hsl[0] = rnd(hsl[0] || 0);\n    hsl[1] = rnd(hsl[1] * 100) + '%';\n    hsl[2] = rnd(hsl[2] * 100) + '%';\n    if (mode === 'hsla') {\n      hsl[3] = alpha;\n    }\n    return mode + '(' + hsl.join(',') + ')';\n  };\n\n  _input.css = function(h) {\n    return css2rgb(h);\n  };\n\n  chroma.css = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['css']), function(){});\n  };\n\n  Color.prototype.css = function(mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (mode.slice(0, 3) === 'rgb') {\n      return rgb2css(this._rgb);\n    } else if (mode.slice(0, 3) === 'hsl') {\n      return hsl2css(this.hsl(), this.alpha());\n    }\n  };\n\n  _input.named = function(name) {\n    return hex2rgb(w3cx11[name]);\n  };\n\n  _guess_formats.push({\n    p: 5,\n    test: function(n) {\n      if (arguments.length === 1 && (w3cx11[n] != null)) {\n        return 'named';\n      }\n    }\n  });\n\n  Color.prototype.name = function(n) {\n    var h, k;\n    if (arguments.length) {\n      if (w3cx11[n]) {\n        this._rgb = hex2rgb(w3cx11[n]);\n      }\n      this._rgb[3] = 1;\n      this;\n    }\n    h = this.hex('rgb');\n    for (k in w3cx11) {\n      if (h === w3cx11[k]) {\n        return k;\n      }\n    }\n    return h;\n  };\n\n  lch2lab = function() {\n\n    /*\n    Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n    These formulas were invented by David Dalrymple to obtain maximum contrast without going\n    out of gamut if the parameters are in the range 0-1.\n    \n    A saturation multiplier was added by Gregor Aisch\n     */\n    var c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], c = ref[1], h = ref[2];\n    h = h * DEG2RAD;\n    return [l, cos(h) * c, sin(h) * c];\n  };\n\n  lch2rgb = function() {\n    var L, a, args, b, c, g, h, l, r, ref, ref1;\n    args = unpack(arguments);\n    l = args[0], c = args[1], h = args[2];\n    ref = lch2lab(l, c, h), L = ref[0], a = ref[1], b = ref[2];\n    ref1 = lab2rgb(L, a, b), r = ref1[0], g = ref1[1], b = ref1[2];\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  lab2lch = function() {\n    var a, b, c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], a = ref[1], b = ref[2];\n    c = sqrt(a * a + b * b);\n    h = (atan2(b, a) * RAD2DEG + 360) % 360;\n    if (round(c * 10000) === 0) {\n      h = Number.NaN;\n    }\n    return [l, c, h];\n  };\n\n  rgb2lch = function() {\n    var a, b, g, l, r, ref, ref1;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2lab(r, g, b), l = ref1[0], a = ref1[1], b = ref1[2];\n    return lab2lch(l, a, b);\n  };\n\n  chroma.lch = function() {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'lch');\n  };\n\n  chroma.hcl = function() {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'hcl');\n  };\n\n  _input.lch = lch2rgb;\n\n  _input.hcl = function() {\n    var c, h, l, ref;\n    ref = unpack(arguments), h = ref[0], c = ref[1], l = ref[2];\n    return lch2rgb([l, c, h]);\n  };\n\n  Color.prototype.lch = function() {\n    return rgb2lch(this._rgb);\n  };\n\n  Color.prototype.hcl = function() {\n    return rgb2lch(this._rgb).reverse();\n  };\n\n  rgb2cmyk = function(mode) {\n    var b, c, f, g, k, m, r, ref, y;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = r / 255;\n    g = g / 255;\n    b = b / 255;\n    k = 1 - Math.max(r, Math.max(g, b));\n    f = k < 1 ? 1 / (1 - k) : 0;\n    c = (1 - r - k) * f;\n    m = (1 - g - k) * f;\n    y = (1 - b - k) * f;\n    return [c, m, y, k];\n  };\n\n  cmyk2rgb = function() {\n    var alpha, args, b, c, g, k, m, r, y;\n    args = unpack(arguments);\n    c = args[0], m = args[1], y = args[2], k = args[3];\n    alpha = args.length > 4 ? args[4] : 1;\n    if (k === 1) {\n      return [0, 0, 0, alpha];\n    }\n    r = c >= 1 ? 0 : 255 * (1 - c) * (1 - k);\n    g = m >= 1 ? 0 : 255 * (1 - m) * (1 - k);\n    b = y >= 1 ? 0 : 255 * (1 - y) * (1 - k);\n    return [r, g, b, alpha];\n  };\n\n  _input.cmyk = function() {\n    return cmyk2rgb(unpack(arguments));\n  };\n\n  chroma.cmyk = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['cmyk']), function(){});\n  };\n\n  Color.prototype.cmyk = function() {\n    return rgb2cmyk(this._rgb);\n  };\n\n  _input.gl = function() {\n    var i, k, o, rgb, v;\n    rgb = (function() {\n      var ref, results;\n      ref = unpack(arguments);\n      results = [];\n      for (k in ref) {\n        v = ref[k];\n        results.push(v);\n      }\n      return results;\n    }).apply(this, arguments);\n    for (i = o = 0; o <= 2; i = ++o) {\n      rgb[i] *= 255;\n    }\n    return rgb;\n  };\n\n  chroma.gl = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['gl']), function(){});\n  };\n\n  Color.prototype.gl = function() {\n    var rgb;\n    rgb = this._rgb;\n    return [rgb[0] / 255, rgb[1] / 255, rgb[2] / 255, rgb[3]];\n  };\n\n  rgb2luminance = function(r, g, b) {\n    var ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = luminance_x(r);\n    g = luminance_x(g);\n    b = luminance_x(b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  };\n\n  luminance_x = function(x) {\n    x /= 255;\n    if (x <= 0.03928) {\n      return x / 12.92;\n    } else {\n      return pow((x + 0.055) / 1.055, 2.4);\n    }\n  };\n\n  interpolate_rgb = function(col1, col2, f, m) {\n    var xyz0, xyz1;\n    xyz0 = col1._rgb;\n    xyz1 = col2._rgb;\n    return new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n\n  _interpolators.push(['rgb', interpolate_rgb]);\n\n  Color.prototype.luminance = function(lum, mode) {\n    var cur_lum, eps, max_iter, rgba, test;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (!arguments.length) {\n      return rgb2luminance(this._rgb);\n    }\n    rgba = this._rgb;\n    if (lum === 0) {\n      rgba = [0, 0, 0, this._rgb[3]];\n    } else if (lum === 1) {\n      rgba = [255, 255, 255, this[3]];\n    } else {\n      cur_lum = rgb2luminance(this._rgb);\n      eps = 1e-7;\n      max_iter = 20;\n      test = function(l, h) {\n        var lm, m;\n        m = l.interpolate(h, 0.5, mode);\n        lm = m.luminance();\n        if (Math.abs(lum - lm) < eps || !max_iter--) {\n          return m;\n        }\n        if (lm > lum) {\n          return test(l, m);\n        }\n        return test(m, h);\n      };\n      if (cur_lum > lum) {\n        rgba = test(chroma('black'), this).rgba();\n      } else {\n        rgba = test(this, chroma('white')).rgba();\n      }\n    }\n    return chroma(rgba).alpha(this.alpha());\n  };\n\n  temperature2rgb = function(kelvin) {\n    var b, g, r, temp;\n    temp = kelvin / 100;\n    if (temp < 66) {\n      r = 255;\n      g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n      b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n    } else {\n      r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n      g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n      b = 255;\n    }\n    return [r, g, b];\n  };\n\n  rgb2temperature = function() {\n    var b, eps, g, maxTemp, minTemp, r, ref, rgb, temp;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    minTemp = 1000;\n    maxTemp = 40000;\n    eps = 0.4;\n    while (maxTemp - minTemp > eps) {\n      temp = (maxTemp + minTemp) * 0.5;\n      rgb = temperature2rgb(temp);\n      if ((rgb[2] / rgb[0]) >= (b / r)) {\n        maxTemp = temp;\n      } else {\n        minTemp = temp;\n      }\n    }\n    return round(temp);\n  };\n\n  chroma.temperature = chroma.kelvin = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['temperature']), function(){});\n  };\n\n  _input.temperature = _input.kelvin = _input.K = temperature2rgb;\n\n  Color.prototype.temperature = function() {\n    return rgb2temperature(this._rgb);\n  };\n\n  Color.prototype.kelvin = Color.prototype.temperature;\n\n  chroma.contrast = function(a, b) {\n    var l1, l2, ref, ref1;\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    l1 = a.luminance();\n    l2 = b.luminance();\n    if (l1 > l2) {\n      return (l1 + 0.05) / (l2 + 0.05);\n    } else {\n      return (l2 + 0.05) / (l1 + 0.05);\n    }\n  };\n\n  chroma.distance = function(a, b, mode) {\n    var d, i, l1, l2, ref, ref1, sum_sq;\n    if (mode == null) {\n      mode = 'lab';\n    }\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    l1 = a.get(mode);\n    l2 = b.get(mode);\n    sum_sq = 0;\n    for (i in l1) {\n      d = (l1[i] || 0) - (l2[i] || 0);\n      sum_sq += d * d;\n    }\n    return Math.sqrt(sum_sq);\n  };\n\n  chroma.deltaE = function(a, b, L, C) {\n    var L1, L2, a1, a2, b1, b2, c1, c2, c4, dH2, delA, delB, delC, delL, f, h1, ref, ref1, ref2, ref3, sc, sh, sl, t, v1, v2, v3;\n    if (L == null) {\n      L = 1;\n    }\n    if (C == null) {\n      C = 1;\n    }\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    ref2 = a.lab(), L1 = ref2[0], a1 = ref2[1], b1 = ref2[2];\n    ref3 = b.lab(), L2 = ref3[0], a2 = ref3[1], b2 = ref3[2];\n    c1 = sqrt(a1 * a1 + b1 * b1);\n    c2 = sqrt(a2 * a2 + b2 * b2);\n    sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + 0.01765 * L1);\n    sc = (0.0638 * c1) / (1.0 + 0.0131 * c1) + 0.638;\n    h1 = c1 < 0.000001 ? 0.0 : (atan2(b1, a1) * 180.0) / PI;\n    while (h1 < 0) {\n      h1 += 360;\n    }\n    while (h1 >= 360) {\n      h1 -= 360;\n    }\n    t = (h1 >= 164.0) && (h1 <= 345.0) ? 0.56 + abs(0.2 * cos((PI * (h1 + 168.0)) / 180.0)) : 0.36 + abs(0.4 * cos((PI * (h1 + 35.0)) / 180.0));\n    c4 = c1 * c1 * c1 * c1;\n    f = sqrt(c4 / (c4 + 1900.0));\n    sh = sc * (f * t + 1.0 - f);\n    delL = L1 - L2;\n    delC = c1 - c2;\n    delA = a1 - a2;\n    delB = b1 - b2;\n    dH2 = delA * delA + delB * delB - delC * delC;\n    v1 = delL / (L * sl);\n    v2 = delC / (C * sc);\n    v3 = sh;\n    return sqrt(v1 * v1 + v2 * v2 + (dH2 / (v3 * v3)));\n  };\n\n  Color.prototype.get = function(modechan) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    src = me[mode]();\n    if (channel) {\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        return src[i];\n      } else {\n        return console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      return src;\n    }\n  };\n\n  Color.prototype.set = function(modechan, value) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    if (channel) {\n      src = me[mode]();\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        if (type(value) === 'string') {\n          switch (value.charAt(0)) {\n            case '+':\n              src[i] += +value;\n              break;\n            case '-':\n              src[i] += +value;\n              break;\n            case '*':\n              src[i] *= +(value.substr(1));\n              break;\n            case '/':\n              src[i] /= +(value.substr(1));\n              break;\n            default:\n              src[i] = +value;\n          }\n        } else {\n          src[i] = value;\n        }\n      } else {\n        console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      src = value;\n    }\n    return chroma(src, mode).alpha(me.alpha());\n  };\n\n  Color.prototype.clipped = function() {\n    return this._rgb._clipped || false;\n  };\n\n  Color.prototype.alpha = function(a) {\n    if (arguments.length) {\n      return chroma.rgb([this._rgb[0], this._rgb[1], this._rgb[2], a]);\n    }\n    return this._rgb[3];\n  };\n\n  Color.prototype.darken = function(amount) {\n    var lab, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lab = me.lab();\n    lab[0] -= LAB_CONSTANTS.Kn * amount;\n    return chroma.lab(lab).alpha(me.alpha());\n  };\n\n  Color.prototype.brighten = function(amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.darken(-amount);\n  };\n\n  Color.prototype.darker = Color.prototype.darken;\n\n  Color.prototype.brighter = Color.prototype.brighten;\n\n  Color.prototype.saturate = function(amount) {\n    var lch, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lch = me.lch();\n    lch[1] += amount * LAB_CONSTANTS.Kn;\n    if (lch[1] < 0) {\n      lch[1] = 0;\n    }\n    return chroma.lch(lch).alpha(me.alpha());\n  };\n\n  Color.prototype.desaturate = function(amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.saturate(-amount);\n  };\n\n  Color.prototype.premultiply = function() {\n    var a, rgb;\n    rgb = this.rgb();\n    a = this.alpha();\n    return chroma(rgb[0] * a, rgb[1] * a, rgb[2] * a, a);\n  };\n\n  blend = function(bottom, top, mode) {\n    if (!blend[mode]) {\n      throw 'unknown blend mode ' + mode;\n    }\n    return blend[mode](bottom, top);\n  };\n\n  blend_f = function(f) {\n    return function(bottom, top) {\n      var c0, c1;\n      c0 = chroma(top).rgb();\n      c1 = chroma(bottom).rgb();\n      return chroma(f(c0, c1), 'rgb');\n    };\n  };\n\n  each = function(f) {\n    return function(c0, c1) {\n      var i, o, out;\n      out = [];\n      for (i = o = 0; o <= 3; i = ++o) {\n        out[i] = f(c0[i], c1[i]);\n      }\n      return out;\n    };\n  };\n\n  normal = function(a, b) {\n    return a;\n  };\n\n  multiply = function(a, b) {\n    return a * b / 255;\n  };\n\n  darken = function(a, b) {\n    if (a > b) {\n      return b;\n    } else {\n      return a;\n    }\n  };\n\n  lighten = function(a, b) {\n    if (a > b) {\n      return a;\n    } else {\n      return b;\n    }\n  };\n\n  screen = function(a, b) {\n    return 255 * (1 - (1 - a / 255) * (1 - b / 255));\n  };\n\n  overlay = function(a, b) {\n    if (b < 128) {\n      return 2 * a * b / 255;\n    } else {\n      return 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255));\n    }\n  };\n\n  burn = function(a, b) {\n    return 255 * (1 - (1 - b / 255) / (a / 255));\n  };\n\n  dodge = function(a, b) {\n    if (a === 255) {\n      return 255;\n    }\n    a = 255 * (b / 255) / (1 - a / 255);\n    if (a > 255) {\n      return 255;\n    } else {\n      return a;\n    }\n  };\n\n  blend.normal = blend_f(each(normal));\n\n  blend.multiply = blend_f(each(multiply));\n\n  blend.screen = blend_f(each(screen));\n\n  blend.overlay = blend_f(each(overlay));\n\n  blend.darken = blend_f(each(darken));\n\n  blend.lighten = blend_f(each(lighten));\n\n  blend.dodge = blend_f(each(dodge));\n\n  blend.burn = blend_f(each(burn));\n\n  chroma.blend = blend;\n\n  chroma.analyze = function(data) {\n    var len, o, r, val;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    for (o = 0, len = data.length; o < len; o++) {\n      val = data[o];\n      if ((val != null) && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function(mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n\n  chroma.scale = function(colors, positions) {\n    var _classes, _colorCache, _colors, _correctLightness, _domain, _fixed, _gamma, _max, _min, _mode, _nacol, _out, _padding, _pos, _spread, _useCache, classifyValue, f, getClass, getColor, resetCache, setColors, tmap;\n    _mode = 'rgb';\n    _nacol = chroma('#ccc');\n    _spread = 0;\n    _fixed = false;\n    _domain = [0, 1];\n    _pos = [];\n    _padding = [0, 0];\n    _classes = false;\n    _colors = [];\n    _out = false;\n    _min = 0;\n    _max = 1;\n    _correctLightness = false;\n    _colorCache = {};\n    _useCache = true;\n    _gamma = 1;\n    setColors = function(colors) {\n      var c, col, o, ref, ref1, w;\n      if (colors == null) {\n        colors = ['#fff', '#000'];\n      }\n      if ((colors != null) && type(colors) === 'string' && (chroma.brewer != null)) {\n        colors = chroma.brewer[colors] || chroma.brewer[colors.toLowerCase()] || colors;\n      }\n      if (type(colors) === 'array') {\n        if (colors.length === 1) {\n          colors = [colors[0], colors[0]];\n        }\n        colors = colors.slice(0);\n        for (c = o = 0, ref = colors.length - 1; 0 <= ref ? o <= ref : o >= ref; c = 0 <= ref ? ++o : --o) {\n          col = colors[c];\n          if (type(col) === \"string\") {\n            colors[c] = chroma(col);\n          }\n        }\n        _pos.length = 0;\n        for (c = w = 0, ref1 = colors.length - 1; 0 <= ref1 ? w <= ref1 : w >= ref1; c = 0 <= ref1 ? ++w : --w) {\n          _pos.push(c / (colors.length - 1));\n        }\n      }\n      resetCache();\n      return _colors = colors;\n    };\n    getClass = function(value) {\n      var i, n;\n      if (_classes != null) {\n        n = _classes.length - 1;\n        i = 0;\n        while (i < n && value >= _classes[i]) {\n          i++;\n        }\n        return i - 1;\n      }\n      return 0;\n    };\n    tmap = function(t) {\n      return t;\n    };\n    classifyValue = function(value) {\n      var i, maxc, minc, n, val;\n      val = value;\n      if (_classes.length > 2) {\n        n = _classes.length - 1;\n        i = getClass(value);\n        minc = _classes[0] + (_classes[1] - _classes[0]) * (0 + _spread * 0.5);\n        maxc = _classes[n - 1] + (_classes[n] - _classes[n - 1]) * (1 - _spread * 0.5);\n        val = _min + ((_classes[i] + (_classes[i + 1] - _classes[i]) * 0.5 - minc) / (maxc - minc)) * (_max - _min);\n      }\n      return val;\n    };\n    getColor = function(val, bypassMap) {\n      var c, col, i, k, o, p, ref, t;\n      if (bypassMap == null) {\n        bypassMap = false;\n      }\n      if (isNaN(val) || val === null) {\n        return _nacol;\n      }\n      if (!bypassMap) {\n        if (_classes && _classes.length > 2) {\n          c = getClass(val);\n          t = c / (_classes.length - 2);\n        } else if (_max !== _min) {\n          t = (val - _min) / (_max - _min);\n        } else {\n          t = 1;\n        }\n      } else {\n        t = val;\n      }\n      if (!bypassMap) {\n        t = tmap(t);\n      }\n      if (_gamma !== 1) {\n        t = pow(t, _gamma);\n      }\n      t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n      t = Math.min(1, Math.max(0, t));\n      k = Math.floor(t * 10000);\n      if (_useCache && _colorCache[k]) {\n        col = _colorCache[k];\n      } else {\n        if (type(_colors) === 'array') {\n          for (i = o = 0, ref = _pos.length - 1; 0 <= ref ? o <= ref : o >= ref; i = 0 <= ref ? ++o : --o) {\n            p = _pos[i];\n            if (t <= p) {\n              col = _colors[i];\n              break;\n            }\n            if (t >= p && i === _pos.length - 1) {\n              col = _colors[i];\n              break;\n            }\n            if (t > p && t < _pos[i + 1]) {\n              t = (t - p) / (_pos[i + 1] - p);\n              col = chroma.interpolate(_colors[i], _colors[i + 1], t, _mode);\n              break;\n            }\n          }\n        } else if (type(_colors) === 'function') {\n          col = _colors(t);\n        }\n        if (_useCache) {\n          _colorCache[k] = col;\n        }\n      }\n      return col;\n    };\n    resetCache = function() {\n      return _colorCache = {};\n    };\n    setColors(colors);\n    f = function(v) {\n      var c;\n      c = chroma(getColor(v));\n      if (_out && c[_out]) {\n        return c[_out]();\n      } else {\n        return c;\n      }\n    };\n    f.classes = function(classes) {\n      var d;\n      if (classes != null) {\n        if (type(classes) === 'array') {\n          _classes = classes;\n          _domain = [classes[0], classes[classes.length - 1]];\n        } else {\n          d = chroma.analyze(_domain);\n          if (classes === 0) {\n            _classes = [d.min, d.max];\n          } else {\n            _classes = chroma.limits(d, 'e', classes);\n          }\n        }\n        return f;\n      }\n      return _classes;\n    };\n    f.domain = function(domain) {\n      var c, d, k, len, o, ref, w;\n      if (!arguments.length) {\n        return _domain;\n      }\n      _min = domain[0];\n      _max = domain[domain.length - 1];\n      _pos = [];\n      k = _colors.length;\n      if (domain.length === k && _min !== _max) {\n        for (o = 0, len = domain.length; o < len; o++) {\n          d = domain[o];\n          _pos.push((d - _min) / (_max - _min));\n        }\n      } else {\n        for (c = w = 0, ref = k - 1; 0 <= ref ? w <= ref : w >= ref; c = 0 <= ref ? ++w : --w) {\n          _pos.push(c / (k - 1));\n        }\n      }\n      _domain = [_min, _max];\n      return f;\n    };\n    f.mode = function(_m) {\n      if (!arguments.length) {\n        return _mode;\n      }\n      _mode = _m;\n      resetCache();\n      return f;\n    };\n    f.range = function(colors, _pos) {\n      setColors(colors, _pos);\n      return f;\n    };\n    f.out = function(_o) {\n      _out = _o;\n      return f;\n    };\n    f.spread = function(val) {\n      if (!arguments.length) {\n        return _spread;\n      }\n      _spread = val;\n      return f;\n    };\n    f.correctLightness = function(v) {\n      if (v == null) {\n        v = true;\n      }\n      _correctLightness = v;\n      resetCache();\n      if (_correctLightness) {\n        tmap = function(t) {\n          var L0, L1, L_actual, L_diff, L_ideal, max_iter, pol, t0, t1;\n          L0 = getColor(0, true).lab()[0];\n          L1 = getColor(1, true).lab()[0];\n          pol = L0 > L1;\n          L_actual = getColor(t, true).lab()[0];\n          L_ideal = L0 + (L1 - L0) * t;\n          L_diff = L_actual - L_ideal;\n          t0 = 0;\n          t1 = 1;\n          max_iter = 20;\n          while (Math.abs(L_diff) > 1e-2 && max_iter-- > 0) {\n            (function() {\n              if (pol) {\n                L_diff *= -1;\n              }\n              if (L_diff < 0) {\n                t0 = t;\n                t += (t1 - t) * 0.5;\n              } else {\n                t1 = t;\n                t += (t0 - t) * 0.5;\n              }\n              L_actual = getColor(t, true).lab()[0];\n              return L_diff = L_actual - L_ideal;\n            })();\n          }\n          return t;\n        };\n      } else {\n        tmap = function(t) {\n          return t;\n        };\n      }\n      return f;\n    };\n    f.padding = function(p) {\n      if (p != null) {\n        if (type(p) === 'number') {\n          p = [p, p];\n        }\n        _padding = p;\n        return f;\n      } else {\n        return _padding;\n      }\n    };\n    f.colors = function(numColors, out) {\n      var dd, dm, i, o, ref, result, results, samples, w;\n      if (arguments.length < 2) {\n        out = 'hex';\n      }\n      result = [];\n      if (arguments.length === 0) {\n        result = _colors.slice(0);\n      } else if (numColors === 1) {\n        result = [f(0.5)];\n      } else if (numColors > 1) {\n        dm = _domain[0];\n        dd = _domain[1] - dm;\n        result = (function() {\n          results = [];\n          for (var o = 0; 0 <= numColors ? o < numColors : o > numColors; 0 <= numColors ? o++ : o--){ results.push(o); }\n          return results;\n        }).apply(this).map(function(i) {\n          return f(dm + i / (numColors - 1) * dd);\n        });\n      } else {\n        colors = [];\n        samples = [];\n        if (_classes && _classes.length > 2) {\n          for (i = w = 1, ref = _classes.length; 1 <= ref ? w < ref : w > ref; i = 1 <= ref ? ++w : --w) {\n            samples.push((_classes[i - 1] + _classes[i]) * 0.5);\n          }\n        } else {\n          samples = _domain;\n        }\n        result = samples.map(function(v) {\n          return f(v);\n        });\n      }\n      if (chroma[out]) {\n        result = result.map(function(c) {\n          return c[out]();\n        });\n      }\n      return result;\n    };\n    f.cache = function(c) {\n      if (c != null) {\n        _useCache = c;\n        return f;\n      } else {\n        return _useCache;\n      }\n    };\n    f.gamma = function(g) {\n      if (g != null) {\n        _gamma = g;\n        return f;\n      } else {\n        return _gamma;\n      }\n    };\n    f.nodata = function(d) {\n      if (d != null) {\n        _nacol = chroma(d);\n        return f;\n      } else {\n        return _nacol;\n      }\n    };\n    return f;\n  };\n\n  if (chroma.scales == null) {\n    chroma.scales = {};\n  }\n\n  chroma.scales.cool = function() {\n    return chroma.scale([chroma.hsl(180, 1, .9), chroma.hsl(250, .7, .4)]);\n  };\n\n  chroma.scales.hot = function() {\n    return chroma.scale(['#000', '#f00', '#ff0', '#fff'], [0, .25, .75, 1]).mode('rgb');\n  };\n\n  chroma.analyze = function(data, key, filter) {\n    var add, k, len, o, r, val, visit;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    if (filter == null) {\n      filter = function() {\n        return true;\n      };\n    }\n    add = function(val) {\n      if ((val != null) && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    };\n    visit = function(val, k) {\n      if (filter(val, k)) {\n        if ((key != null) && type(key) === 'function') {\n          return add(key(val));\n        } else if ((key != null) && type(key) === 'string' || type(key) === 'number') {\n          return add(val[key]);\n        } else {\n          return add(val);\n        }\n      }\n    };\n    if (type(data) === 'array') {\n      for (o = 0, len = data.length; o < len; o++) {\n        val = data[o];\n        visit(val);\n      }\n    } else {\n      for (k in data) {\n        val = data[k];\n        visit(val, k);\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function(mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n\n  chroma.limits = function(data, mode, num) {\n    var aa, ab, ac, ad, ae, af, ag, ah, ai, aj, ak, al, am, assignments, best, centroids, cluster, clusterSizes, dist, i, j, kClusters, limits, max_log, min, min_log, mindist, n, nb_iters, newCentroids, o, p, pb, pr, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, repeat, sum, tmpKMeansBreaks, v, value, values, w;\n    if (mode == null) {\n      mode = 'equal';\n    }\n    if (num == null) {\n      num = 7;\n    }\n    if (type(data) === 'array') {\n      data = chroma.analyze(data);\n    }\n    min = data.min;\n    max = data.max;\n    sum = data.sum;\n    values = data.values.sort(function(a, b) {\n      return a - b;\n    });\n    if (num === 1) {\n      return [min, max];\n    }\n    limits = [];\n    if (mode.substr(0, 1) === 'c') {\n      limits.push(min);\n      limits.push(max);\n    }\n    if (mode.substr(0, 1) === 'e') {\n      limits.push(min);\n      for (i = o = 1, ref = num - 1; 1 <= ref ? o <= ref : o >= ref; i = 1 <= ref ? ++o : --o) {\n        limits.push(min + (i / num) * (max - min));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'l') {\n      if (min <= 0) {\n        throw 'Logarithmic scales are only possible for values > 0';\n      }\n      min_log = Math.LOG10E * log(min);\n      max_log = Math.LOG10E * log(max);\n      limits.push(min);\n      for (i = w = 1, ref1 = num - 1; 1 <= ref1 ? w <= ref1 : w >= ref1; i = 1 <= ref1 ? ++w : --w) {\n        limits.push(pow(10, min_log + (i / num) * (max_log - min_log)));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'q') {\n      limits.push(min);\n      for (i = aa = 1, ref2 = num - 1; 1 <= ref2 ? aa <= ref2 : aa >= ref2; i = 1 <= ref2 ? ++aa : --aa) {\n        p = (values.length - 1) * i / num;\n        pb = floor(p);\n        if (pb === p) {\n          limits.push(values[pb]);\n        } else {\n          pr = p - pb;\n          limits.push(values[pb] * (1 - pr) + values[pb + 1] * pr);\n        }\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'k') {\n\n      /*\n      implementation based on\n      http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n      simplified for 1-d input values\n       */\n      n = values.length;\n      assignments = new Array(n);\n      clusterSizes = new Array(num);\n      repeat = true;\n      nb_iters = 0;\n      centroids = null;\n      centroids = [];\n      centroids.push(min);\n      for (i = ab = 1, ref3 = num - 1; 1 <= ref3 ? ab <= ref3 : ab >= ref3; i = 1 <= ref3 ? ++ab : --ab) {\n        centroids.push(min + (i / num) * (max - min));\n      }\n      centroids.push(max);\n      while (repeat) {\n        for (j = ac = 0, ref4 = num - 1; 0 <= ref4 ? ac <= ref4 : ac >= ref4; j = 0 <= ref4 ? ++ac : --ac) {\n          clusterSizes[j] = 0;\n        }\n        for (i = ad = 0, ref5 = n - 1; 0 <= ref5 ? ad <= ref5 : ad >= ref5; i = 0 <= ref5 ? ++ad : --ad) {\n          value = values[i];\n          mindist = Number.MAX_VALUE;\n          for (j = ae = 0, ref6 = num - 1; 0 <= ref6 ? ae <= ref6 : ae >= ref6; j = 0 <= ref6 ? ++ae : --ae) {\n            dist = abs(centroids[j] - value);\n            if (dist < mindist) {\n              mindist = dist;\n              best = j;\n            }\n          }\n          clusterSizes[best]++;\n          assignments[i] = best;\n        }\n        newCentroids = new Array(num);\n        for (j = af = 0, ref7 = num - 1; 0 <= ref7 ? af <= ref7 : af >= ref7; j = 0 <= ref7 ? ++af : --af) {\n          newCentroids[j] = null;\n        }\n        for (i = ag = 0, ref8 = n - 1; 0 <= ref8 ? ag <= ref8 : ag >= ref8; i = 0 <= ref8 ? ++ag : --ag) {\n          cluster = assignments[i];\n          if (newCentroids[cluster] === null) {\n            newCentroids[cluster] = values[i];\n          } else {\n            newCentroids[cluster] += values[i];\n          }\n        }\n        for (j = ah = 0, ref9 = num - 1; 0 <= ref9 ? ah <= ref9 : ah >= ref9; j = 0 <= ref9 ? ++ah : --ah) {\n          newCentroids[j] *= 1 / clusterSizes[j];\n        }\n        repeat = false;\n        for (j = ai = 0, ref10 = num - 1; 0 <= ref10 ? ai <= ref10 : ai >= ref10; j = 0 <= ref10 ? ++ai : --ai) {\n          if (newCentroids[j] !== centroids[i]) {\n            repeat = true;\n            break;\n          }\n        }\n        centroids = newCentroids;\n        nb_iters++;\n        if (nb_iters > 200) {\n          repeat = false;\n        }\n      }\n      kClusters = {};\n      for (j = aj = 0, ref11 = num - 1; 0 <= ref11 ? aj <= ref11 : aj >= ref11; j = 0 <= ref11 ? ++aj : --aj) {\n        kClusters[j] = [];\n      }\n      for (i = ak = 0, ref12 = n - 1; 0 <= ref12 ? ak <= ref12 : ak >= ref12; i = 0 <= ref12 ? ++ak : --ak) {\n        cluster = assignments[i];\n        kClusters[cluster].push(values[i]);\n      }\n      tmpKMeansBreaks = [];\n      for (j = al = 0, ref13 = num - 1; 0 <= ref13 ? al <= ref13 : al >= ref13; j = 0 <= ref13 ? ++al : --al) {\n        tmpKMeansBreaks.push(kClusters[j][0]);\n        tmpKMeansBreaks.push(kClusters[j][kClusters[j].length - 1]);\n      }\n      tmpKMeansBreaks = tmpKMeansBreaks.sort(function(a, b) {\n        return a - b;\n      });\n      limits.push(tmpKMeansBreaks[0]);\n      for (i = am = 1, ref14 = tmpKMeansBreaks.length - 1; am <= ref14; i = am += 2) {\n        v = tmpKMeansBreaks[i];\n        if (!isNaN(v) && limits.indexOf(v) === -1) {\n          limits.push(v);\n        }\n      }\n    }\n    return limits;\n  };\n\n  hsi2rgb = function(h, s, i) {\n\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n     */\n    var args, b, g, r;\n    args = unpack(arguments);\n    h = args[0], s = args[1], i = args[2];\n    if (isNaN(h)) {\n      h = 0;\n    }\n    h /= 360;\n    if (h < 1 / 3) {\n      b = (1 - s) / 3;\n      r = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      g = 1 - (b + r);\n    } else if (h < 2 / 3) {\n      h -= 1 / 3;\n      r = (1 - s) / 3;\n      g = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      b = 1 - (r + g);\n    } else {\n      h -= 2 / 3;\n      g = (1 - s) / 3;\n      b = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      r = 1 - (g + b);\n    }\n    r = limit(i * r * 3);\n    g = limit(i * g * 3);\n    b = limit(i * b * 3);\n    return [r * 255, g * 255, b * 255, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hsi = function() {\n\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n     */\n    var b, g, h, i, min, r, ref, s;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    TWOPI = Math.PI * 2;\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    i = (r + g + b) / 3;\n    s = 1 - min / i;\n    if (s === 0) {\n      h = 0;\n    } else {\n      h = ((r - g) + (r - b)) / 2;\n      h /= Math.sqrt((r - g) * (r - g) + (r - b) * (g - b));\n      h = Math.acos(h);\n      if (b > g) {\n        h = TWOPI - h;\n      }\n      h /= TWOPI;\n    }\n    return [h * 360, s, i];\n  };\n\n  chroma.hsi = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsi']), function(){});\n  };\n\n  _input.hsi = hsi2rgb;\n\n  Color.prototype.hsi = function() {\n    return rgb2hsi(this._rgb);\n  };\n\n  interpolate_hsx = function(col1, col2, f, m) {\n    var dh, hue, hue0, hue1, lbv, lbv0, lbv1, res, sat, sat0, sat1, xyz0, xyz1;\n    if (m === 'hsl') {\n      xyz0 = col1.hsl();\n      xyz1 = col2.hsl();\n    } else if (m === 'hsv') {\n      xyz0 = col1.hsv();\n      xyz1 = col2.hsv();\n    } else if (m === 'hcg') {\n      xyz0 = col1.hcg();\n      xyz1 = col2.hcg();\n    } else if (m === 'hsi') {\n      xyz0 = col1.hsi();\n      xyz1 = col2.hsi();\n    } else if (m === 'lch' || m === 'hcl') {\n      m = 'hcl';\n      xyz0 = col1.hcl();\n      xyz1 = col2.hcl();\n    }\n    if (m.substr(0, 1) === 'h') {\n      hue0 = xyz0[0], sat0 = xyz0[1], lbv0 = xyz0[2];\n      hue1 = xyz1[0], sat1 = xyz1[1], lbv1 = xyz1[2];\n    }\n    if (!isNaN(hue0) && !isNaN(hue1)) {\n      if (hue1 > hue0 && hue1 - hue0 > 180) {\n        dh = hue1 - (hue0 + 360);\n      } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n        dh = hue1 + 360 - hue0;\n      } else {\n        dh = hue1 - hue0;\n      }\n      hue = hue0 + f * dh;\n    } else if (!isNaN(hue0)) {\n      hue = hue0;\n      if ((lbv1 === 1 || lbv1 === 0) && m !== 'hsv') {\n        sat = sat0;\n      }\n    } else if (!isNaN(hue1)) {\n      hue = hue1;\n      if ((lbv0 === 1 || lbv0 === 0) && m !== 'hsv') {\n        sat = sat1;\n      }\n    } else {\n      hue = Number.NaN;\n    }\n    if (sat == null) {\n      sat = sat0 + f * (sat1 - sat0);\n    }\n    lbv = lbv0 + f * (lbv1 - lbv0);\n    return res = chroma[m](hue, sat, lbv);\n  };\n\n  _interpolators = _interpolators.concat((function() {\n    var len, o, ref, results;\n    ref = ['hsv', 'hsl', 'hsi', 'hcl', 'lch', 'hcg'];\n    results = [];\n    for (o = 0, len = ref.length; o < len; o++) {\n      m = ref[o];\n      results.push([m, interpolate_hsx]);\n    }\n    return results;\n  })());\n\n  interpolate_num = function(col1, col2, f, m) {\n    var n1, n2;\n    n1 = col1.num();\n    n2 = col2.num();\n    return chroma.num(n1 + (n2 - n1) * f, 'num');\n  };\n\n  _interpolators.push(['num', interpolate_num]);\n\n  interpolate_lab = function(col1, col2, f, m) {\n    var res, xyz0, xyz1;\n    xyz0 = col1.lab();\n    xyz1 = col2.lab();\n    return res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n\n  _interpolators.push(['lab', interpolate_lab]);\n\n}).call(this);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}